import{a as G,b as $,e as J,g as X,j as k,k as y,l as S,m as T,n as Y,o as I,p as Z,q as tt,r as P,s as A,t as et,u as nt,v as ot}from"./chunk-ZITSBQYT.js";import{a as R,b as N,c as K,d as q,e as H,f as Q}from"./chunk-5B3AALWB.js";import{a as it,b as at,c as rt,d as st,h as ct}from"./chunk-IA2MFAD6.js";import{a as W}from"./chunk-5HLULJAE.js";import{a as l}from"./chunk-2T7IOP7O.js";import{c as B}from"./chunk-QB2VXAXK.js";import{g as U}from"./chunk-UXB7DEYG.js";import{$a as b,Bb as z,Na as r,Oa as v,Za as C,bb as f,cb as E,da as O,db as L,eb as V,fb as i,gb as a,ha as h,hb as d,ib as w,ma as u,mb as _,na as x,nb as s,ub as m,vb as g,xb as j,yb as F,zb as D}from"./chunk-RUPBHO3F.js";var lt=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-SQV4S6C5.js").then(t=>t.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-DQ5EBHIQ.js").then(t=>t.LoginComponent)},{path:"quien-soy",loadComponent:()=>import("./chunk-FQE5G5NQ.js").then(t=>t.QuienSoyComponent)},{path:"register",loadComponent:()=>import("./chunk-J7O47LNF.js").then(t=>t.RegisterComponent)},{path:"ahorcado",loadComponent:()=>import("./chunk-S6TSRSZQ.js").then(t=>t.AhorcadoComponent)},{path:"mayor-o-menor",loadComponent:()=>import("./chunk-25VIPRCJ.js").then(t=>t.MayorOMenorComponent)},{path:"preguntados",loadComponent:()=>import("./chunk-WNBYIE42.js").then(t=>t.PreguntadosComponent)},{path:"el-tesoro",loadComponent:()=>import("./chunk-2FXIAJVR.js").then(t=>t.ElTesoroComponent)},{path:"**",loadComponent:()=>import("./chunk-TIUDZXQ7.js").then(t=>t.PageNotFoundComponent)}];var mt={providers:[Q(lt),h(k(()=>y({projectId:l.projectId,appId:l.appId,databaseURL:l.databaseURL,storageBucket:l.storageBucket,apiKey:l.apiKey,authDomain:l.authDomain,messagingSenderId:l.messagingSenderId}))),h(S(()=>T())),h(I(()=>A())),h(k(()=>y({projectId:l.projectId,appId:l.appId,databaseURL:l.databaseURL,storageBucket:l.storageBucket,apiKey:l.apiKey,authDomain:l.authDomain,messagingSenderId:l.messagingSenderId}))),h(S(()=>T())),h(I(()=>A())),B()]};function pt(t,c){if(t&1){let n=w();i(0,"li",11)(1,"a",12),d(2,"fa-icon",13),a(),i(3,"div",14)(4,"div",15),d(5,"img",16),a(),i(6,"span",17),m(7),a(),d(8,"div",18),i(9,"a",19),_("click",function(){u(n);let o=s();return x(o.logout())}),i(10,"b"),m(11,"Cerrar sesion"),a()()()()}if(t&2){let n=s();r(2),b("icon",n.faUser),r(5),g(n.user)}}function gt(t,c){t&1&&(i(0,"li",8)(1,"a",20),m(2,"Iniciar sesion"),a()())}function ht(t,c){if(t&1){let n=w();i(0,"div",23),_("click",function(){u(n);let o=s(2);return x(o.toggleChatWindow())}),d(1,"fa-icon",24),a()}if(t&2){let n=s(2);r(),b("icon",n.faComment)}}function ut(t,c){if(t&1&&(i(0,"div",35)(1,"div",36)(2,"b"),m(3),a()(),i(4,"div",37),m(5),a(),i(6,"div",38),m(7),a()()),t&2){let n=s().$implicit,e=s(3);r(3),g(e.formatUser(n.user)),r(2),g(n.message),r(2),g(e.formatTimestamp(n.date))}}function xt(t,c){if(t&1&&(i(0,"div",39)(1,"div",36)(2,"b"),m(3),a()(),i(4,"div",37),m(5),a(),i(6,"div",38),m(7),a()()),t&2){let n=s().$implicit,e=s(3);r(3),g(e.formatUser(n.user)),r(2),g(n.message),r(2),g(e.formatTimestamp(n.date))}}function ft(t,c){if(t&1&&C(0,ut,8,3,"div",35)(1,xt,8,3),t&2){let n=c.$implicit,e=s(3);f(0,n.user===e.user?0:1)}}function _t(t,c){if(t&1){let n=w();i(0,"div",22)(1,"div",25),d(2,"img",26),i(3,"p",27),m(4,"#General"),a(),d(5,"img",28),i(6,"fa-icon",29),_("click",function(){u(n);let o=s(2);return x(o.toggleChatWindow())}),a()(),i(7,"div",30)(8,"div",31),L(9,ft,2,1,null,null,E),a()(),i(11,"div",32)(12,"input",33),D("ngModelChange",function(o){u(n);let p=s(2);return F(p.messageText,o)||(p.messageText=o),x(o)}),_("keyup.enter",function(){u(n);let o=s(2);return x(o.sendMessage())}),a(),i(13,"button",34),_("click",function(){u(n);let o=s(2);return x(o.sendMessage())}),m(14,"Enviar"),a()()()}if(t&2){let n=s(2);r(6),b("icon",n.faTimes),r(3),V(n.messages),r(3),j("ngModel",n.messageText)}}function Ct(t,c){if(t&1&&C(0,ht,2,1,"div",21)(1,_t,15,2,"div",22),t&2){let n=s();f(0,n.showChatWindow?-1:0),r(),f(1,n.showChatWindow?1:-1)}}var dt=(()=>{let c=class c{constructor(e,o,p){this.authService=e,this.router=o,this.firestore=p,this.title="tp_sala_de_juegos",this.user="",this.isLoggedIn=!1,this.showChatWindow=!1,this.faUser=st,this.faComment=rt,this.faTimes=ct,this.messages=[],this.messageText="",this.sub=null,this.router.events.subscribe(M=>{M instanceof R&&this.checkAuthState()})}checkAuthState(){this.authService.isAuthenticated().then(e=>{this.isLoggedIn=e,this.user=this.authService.getUser(),this.getMessages()}).catch(e=>console.log(e))}logout(){this.authService.logout().then(()=>{this.isLoggedIn=!1,this.router.navigate(["/login"])}).catch(e=>console.log(e))}toggleChatWindow(){setTimeout(()=>{this.scrollToBottom()},0),this.showChatWindow=!this.showChatWindow}sendMessage(){if(this.messageText!==""){let e=P(this.firestore,"messages");tt(e,{date:new Date,user:this.user,message:this.messageText}),this.messageText=""}}getMessages(){let e=P(this.firestore,"messages"),o=nt(e,et("date","asc"));this.messages=[];let p=Z(o);this.sub=p.subscribe(M=>{this.messages=M,setTimeout(()=>{this.scrollToBottom()},0)})}formatUser(e){return e.split("@")[0]}formatTimestamp(e){let o=e.toDate();return U(o,"d MMM. y h:mm a","en-US")}scrollToBottom(){let e=document.getElementById("chatMessages");e&&(e.scrollTop=e.scrollHeight)}};c.\u0275fac=function(o){return new(o||c)(v(ot),v(K),v(Y))},c.\u0275cmp=O({type:c,selectors:[["app-root"]],standalone:!0,features:[z],decls:18,vars:2,consts:[[1,"custom-nav","navbar","navbar-expand-lg","navbar-light","shadow"],["href","#",1,"navbar-brand","d-flex","align-items-center"],["src","../assets/iconic.png","alt","Icono",1,"d-inline-block","align-top","ml-2","mt-1","icono"],["src","../assets/fantasmas.png","alt","Icono",1,"d-inline-block","align-top","ml-2","mt-1","fantasmas"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","nav-opt"],[1,"nav-item","mx-3"],["routerLink","home","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","ruta-activa",1,"nav-link"],[1,"nav-item","dropdown","mx-3"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[3,"icon"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-end","mb-3","rounded-bottom"],[1,"col","text-center"],["src","../assets/perfil.png","width","100","alt","Perfil"],[1,"dropdown-item-text"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],["routerLink","login","routerLinkActive","ruta-activa",1,"nav-link"],[1,"chat-bubble","shadow"],[1,"chat-window","d-flex","flex-column","justify-content-between"],[1,"chat-bubble","shadow",3,"click"],[1,"chat-icon",3,"icon"],[1,"chat-header"],["src","../assets/icono.png","width","37","height","37","alt","Icono",1,"d-inline-block","align-top","mx-1","mt-1"],[1,"h-chat","mt-4"],["src","../assets/fantasmas.png","width","65","height","65","alt","Icono",1,"d-inline-block","align-top","ms-1","ml-2","mt-2"],[1,"close-chat-icon",3,"click","icon"],[1,"chat-body"],["id","chatMessages",1,"chat-messages"],[1,"chat-footer","d-flex","justify-content-around"],["type","text","placeholder","Escribe un mensaje...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn","btn-primary","btn-enviar",3,"click"],[1,"chat-message","chat-message-me"],[1,"chat-message-user"],[1,"chat-message-text"],[1,"chat-message-time"],[1,"chat-message","chat-message-other"]],template:function(o,p){o&1&&(i(0,"nav",0)(1,"a",1),d(2,"img",2)(3,"img",3),a(),i(4,"button",4),d(5,"span",5),a(),i(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),m(10,"Inicio"),a()(),i(11,"li",8)(12,"a",10),m(13,"Quien soy"),a()(),C(14,pt,12,2,"li",11)(15,gt,3,0),a()()(),C(16,Ct,2,2),d(17,"router-outlet")),o&2&&(r(14),f(14,p.isLoggedIn?14:15),r(2),f(16,p.isLoggedIn?16:-1))},dependencies:[N,q,H,at,it,X,G,$,J],styles:[".ruta-activa[_ngcontent-%COMP%]{font-weight:500;color:#000}.custom-nav[_ngcontent-%COMP%]{height:70px;background-color:#e4e4e4;transition:all;padding:0 10px;z-index:2;position:fixed;width:100%}.nav-opt[_ngcontent-%COMP%]{background-color:#e4e4e4;cursor:pointer;z-index:2;font-size:17px}.chat-bubble[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:35px;width:75px;height:75px;background-color:#2b95ff;border-radius:50%;display:flex;justify-content:center!important;align-items:center!important;cursor:pointer;z-index:9999}.chat-bubble[_ngcontent-%COMP%]:hover{background-color:#2080e1;transition:all .3s}.h-chat[_ngcontent-%COMP%]{font-size:24px}.chat-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:40px;margin-bottom:11px;color:#fff}.close-chat-icon[_ngcontent-%COMP%]{height:50px;font-size:30px;color:#232323;cursor:pointer;margin-left:auto;margin-right:20px}.chat-window[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:70px;width:500px;height:500px;background-color:#f0f0f0;border-radius:10px;box-shadow:0 0 10px #0000001a;z-index:9998}.chat-header[_ngcontent-%COMP%]{width:100%;height:85px;background-color:#2b95ff;border-top-left-radius:10px;border-top-right-radius:10px;display:flex;justify-content:center;align-items:center}.chat-footer[_ngcontent-%COMP%]{width:100%;height:75px;background-color:#e4e4e4;border-bottom-left-radius:10px;border-bottom-right-radius:10px;display:flex;justify-content:space-between;align-items:center;bottom:auto}.chat-footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:75%;height:50px;border:none;border-radius:10px;margin-left:10px;padding-left:10px;font-size:16px}.btn-enviar[_ngcontent-%COMP%]{width:15%;height:38px;border:none;border-radius:10px;margin-right:10px;font-size:16px;cursor:pointer;background-color:#2b95ff}.chat-messages[_ngcontent-%COMP%]{max-height:350px;overflow-y:scroll;padding:10px}.chat-message[_ngcontent-%COMP%]{margin:25px 0;width:65%;border-radius:4px}.chat-message-me[_ngcontent-%COMP%]{background-color:#c7c7c7;margin-left:auto}.chat-message-other[_ngcontent-%COMP%]{background-color:#e4e4e4;margin-right:auto}.chat-message-user[_ngcontent-%COMP%], .chat-message-text[_ngcontent-%COMP%]{padding:3px;margin-left:6px}.chat-message-time[_ngcontent-%COMP%]{padding:3px;margin-left:53%;font-size:13px;color:#4d4d4d}.icono[_ngcontent-%COMP%]{width:185px}.fantasmas[_ngcontent-%COMP%]{width:75px}@media screen and (max-width: 768px){.chat-window[_ngcontent-%COMP%]{width:100%;height:70%;bottom:0;right:0}.chat-messages[_ngcontent-%COMP%]{height:100%}.chat-message-time[_ngcontent-%COMP%]{margin-left:45%}.icono[_ngcontent-%COMP%]{width:150px}.fantasmas[_ngcontent-%COMP%]{width:65px}}"]});let t=c;return t})();W(dt,mt).catch(t=>console.error(t));
