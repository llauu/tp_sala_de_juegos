import{a as q}from"./chunk-2T7IOP7O.js";import{a as V,b as j}from"./chunk-QB2VXAXK.js";import{i as O}from"./chunk-UXB7DEYG.js";import{$a as x,Bb as Q,Ja as v,Ka as E,Na as l,Oa as P,V as C,Za as f,_ as b,bb as _,cb as M,da as S,db as I,eb as T,fb as t,gb as i,hb as d,ib as h,ma as u,mb as g,na as p,nb as c,qb as k,ub as n,vb as w,wb as y}from"./chunk-RUPBHO3F.js";var A=(()=>{let o=class o{constructor(a){this.http=a,this.apiUrlQuestion="https://opentdb.com/api.php?amount=5&type=multiple",this.apiUrlImage="https://api.pexels.com/v1/search",this.apiKey=q.pexel_API_KEY}getImage(a,s=5){let m=new V({Authorization:this.apiKey}),H={query:a,per_page:s.toString(),page:Math.floor(Math.random()*100).toString(),orientation:"landscape"};return this.http.get(this.apiUrlImage,{headers:m,params:H})}getQuestions(a,s){return this.http.get(`${this.apiUrlQuestion}&category=${a}&difficulty=${s}`)}};o.\u0275fac=function(s){return new(s||o)(b(j))},o.\u0275prov=C({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function F(e,o){if(e&1){let r=h();t(0,"div",7)(1,"div",8)(2,"h4",9),n(3,"Game over"),i(),t(4,"p"),n(5,"Your final score is: "),t(6,"strong"),n(7),i()(),d(8,"hr"),t(9,"button",10),g("click",function(){u(r);let s=c();return p(s.restartGame())}),n(10,"Play again"),i()()()}if(e&2){let r=c();l(7),y("",r.score," points")}}function L(e,o){if(e&1){let r=h();t(0,"div",11)(1,"h4",9),n(2,"Nice!"),i(),d(3,"hr"),t(4,"button",10),g("click",function(){u(r);let s=c(2);return p(s.updateQuestion())}),n(5,"Next"),i()()}}function U(e,o){if(e&1){let r=h();t(0,"div",12)(1,"h4",9),n(2,"Fail! =("),i(),t(3,"p"),n(4,"The correct answer was: "),t(5,"strong"),n(6),i()(),d(7,"hr"),t(8,"button",10),g("click",function(){u(r);let s=c(2);return p(s.updateQuestion())}),n(9,"Next"),i()()}if(e&2){let r=c(2);l(6),w(r.correctAnswer)}}function $(e,o){if(e&1&&(t(0,"div",7),f(1,L,6,0,"div",11)(2,U,10,1),i()),e&2){let r=c();l(),_(1,r.correct?1:2)}}function D(e,o){e&1&&(t(0,"div",5)(1,"h1",13),n(2,"Preguntados"),d(3,"img",14),i(),t(4,"p",15),n(5,"Immerse yourself in a world of knowledge. Answer questions and challenge your friends in this amazing trivia game."),i(),t(6,"div",16)(7,"div",17)(8,"select",18)(9,"option",19),n(10,"Sports"),i(),t(11,"option",20),n(12,"Science & Nature"),i(),t(13,"option",21),n(14,"Geography"),i(),t(15,"option",22),n(16,"History"),i(),t(17,"option",23),n(18,"Art"),i()(),t(19,"label",24),n(20,"Category"),i()(),t(21,"div",17)(22,"select",25)(23,"option",26),n(24,"Easy"),i(),t(25,"option",27),n(26,"Medium"),i(),t(27,"option",28),n(28,"Hard"),i()(),t(29,"label",29),n(30,"Difficulty"),i()()()())}function G(e,o){if(e&1&&(t(0,"div",30)(1,"h4",31),n(2),i(),d(3,"img",32),t(4,"p",33),n(5),i(),d(6,"h3",34),i()),e&2){let r=c();l(2),y("Question ",r.numQuestion," of 5"),l(),k("src",r.image,E),l(2),w(r.category),l(),x("innerHTML",r.question,v)}}function B(e,o){if(e&1){let r=h();t(0,"button",37),g("click",function(){let s=u(r).$implicit,m=c(2);return p(m.check(s))}),i()}if(e&2){let r=o.$implicit;x("innerHTML",r,v)}}function K(e,o){if(e&1&&(t(0,"div",6)(1,"div",35),I(2,B,1,1,"button",36,M),i()()),e&2){let r=c();l(2),T(r.answers)}}function Y(e,o){if(e&1){let r=h();t(0,"div",38)(1,"button",39),g("click",function(){u(r);let s=c();return p(s.getQuestions())}),n(2,"Start"),i()()}}var Z=(()=>{let o=class o{constructor(a){this.triviaService=a,this.difficulty="medium",this.category="Sports",this.categoryNumber="21",this.gameStarted=!1,this.gameOver=!1,this.question="",this.image="",this.answers=[],this.correctAnswer="",this.score=0,this.showAnswer=!1,this.correct=!1,this.numQuestion=0}getQuestions(){let a=document.getElementById("category");a&&(this.category=a.options[a.selectedIndex].text,this.categoryNumber=a.options[a.selectedIndex].value,this.difficulty=document.getElementById("difficulty").value,this.triviaService.getQuestions(this.categoryNumber,this.difficulty).subscribe(s=>{this.gameStarted=!0,this.questions=s,this.triviaService.getImage(this.category).subscribe(m=>{this.images=m.photos,this.updateQuestion()})}))}updateQuestion(){this.showAnswer=!1,this.numQuestion<5?(this.question=this.questions.results[this.numQuestion].question,this.correctAnswer=this.questions.results[this.numQuestion].correct_answer,this.answers=this.questions.results[this.numQuestion].incorrect_answers,this.answers.splice(Math.floor(Math.random()*4),0,this.questions.results[this.numQuestion].correct_answer),this.image=this.images[this.numQuestion].src.original,this.numQuestion++):this.gameOver=!0}check(a){a==this.correctAnswer?(this.score+=10,this.correct=!0):this.correct=!1,this.showAnswer=!0}restartGame(){this.gameStarted=!1,this.numQuestion=0,this.gameOver=!1,this.score=0}};o.\u0275fac=function(s){return new(s||o)(P(A))},o.\u0275cmp=S({type:o,selectors:[["app-preguntados"]],standalone:!0,features:[Q],decls:10,vars:4,consts:[[1,"game-container","d-flex","justify-content-center","align-items-center"],[1,"game","shadow","mt-5"],["class","container-alert position-absolute z-3 mt-5","role","alert",4,"ngIf"],[1,"game-input"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","flex-column","justify-content-around","preguntados-home"],[1,"d-flex","justify-content-center","align-items-center"],["role","alert",1,"container-alert","position-absolute","z-3","mt-5"],["role","alert",1,"alert","alert-info"],[1,"alert-heading"],[1,"btn","btn-primary","mt-3",3,"click"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger","p-3"],[1,"text-center"],["src","../../../assets/juegos/eeuu.png","height","25","width","45",1,"ms-2"],[1,"text-center","mb-5","desc"],[1,"d-flex"],[1,"form-floating","w-50","m-3"],["id","category","aria-label","Category",1,"form-select"],["value","21"],["value","17"],["value","22"],["value","23"],["value","25"],["for","category"],["id","difficulty","aria-label","Difficulty",1,"form-select"],["selected","","value","easy"],["value","medium"],["value","hard"],["for","difficulty"],[1,"q-container","d-flex","flex-column","justify-content-center","align-items-center","w-100","rounded"],[1,"my-3"],["width","290","height","200","alt","",3,"src"],[1,"m-0"],[1,"text-center","mt-4","mb-3","w-75",3,"innerHTML"],[1,"options","d-flex","flex-column","mb-5"],[1,"btn","btn-light","mt-3","option",3,"innerHTML"],[1,"btn","btn-light","mt-3","option",3,"click","innerHTML"],[1,"d-flex","justify-content-center","align-items-center","h-25"],[1,"btn","btn-primary","btn-start",3,"click"]],template:function(s,m){s&1&&(t(0,"div",0)(1,"div",1),f(2,F,11,1,"div",2)(3,$,3,1,"div",2),t(4,"div",3)(5,"div",4),f(6,D,31,0,"div",5)(7,G,7,4),i()(),f(8,K,4,0,"div",6)(9,Y,3,0),i()()),s&2&&(l(2),x("ngIf",m.gameOver),l(),x("ngIf",m.showAnswer),l(3),_(6,m.gameStarted?7:6),l(2),_(8,m.gameStarted?8:9))},dependencies:[O],styles:[".desc[_ngcontent-%COMP%]{color:#727272;font-weight:100;font-size:18px}.game-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100vw;z-index:1}.game[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:80%;width:60%;background-color:#2b95ff;z-index:1;border-radius:5px}.game-input[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:60%;width:100%;background-color:#e4e4e4;z-index:1;border-radius:5px}.preguntados-home[_ngcontent-%COMP%]{width:500px;height:300px}.btn-start[_ngcontent-%COMP%]{width:500px;height:80px}.q-container[_ngcontent-%COMP%]{background-color:#fff}.option[_ngcontent-%COMP%]{width:500px}.container-alert[_ngcontent-%COMP%]{width:400px}@media screen and (max-width: 768px){.game[_ngcontent-%COMP%]{width:92%}.game-input[_ngcontent-%COMP%]{height:80%}.preguntados-home[_ngcontent-%COMP%]{width:100%;height:100%}.option[_ngcontent-%COMP%]{width:200px}.btn-start[_ngcontent-%COMP%]{width:200px;height:50px}}"]});let e=o;return e})();export{Z as PreguntadosComponent};
