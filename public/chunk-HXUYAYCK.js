import{a as v,b as P,c as S,d as E,e as k,f as F,g as W,h as R,i as x,n as I,v as L}from"./chunk-IMJ4DIWD.js";import{c as b}from"./chunk-GFFKI7V3.js";import"./chunk-MTHLPR7T.js";import{Ab as _,Na as c,Oa as d,Za as f,bb as w,da as h,fb as n,gb as i,mb as C,nb as M,tb as s,ub as y,wb as m,xb as g,yb as p}from"./chunk-BRT47W2W.js";function T(l,o){if(l&1&&(n(0,"p",14),s(1),i()),l&2){let N=M();c(),y(N.errorMsg)}}var G=(()=>{let o=class o{constructor(a,r,e){this.firestore=a,this.authService=r,this.router=e,this.newEmail="",this.newPass="",this.newConfirmPass="",this.errorMsg=""}register(){this.newPass===this.newConfirmPass?this.authService.register(this.newEmail,this.newPass).then(a=>{if(a.user.email!==null){let r=R(this.firestore,"logins");x(r,{date:new Date,user:this.newEmail}),this.router.navigate(["/home"])}}).catch(a=>{switch(a.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/email-already-in-use":this.errorMsg="El correo electronico ya esta en uso.";break;case"auth/weak-password":this.errorMsg="La contrase\xF1a debe tener al menos 6 caracteres.";break}}):this.errorMsg="Las contrase\xF1as no coinciden."}};o.\u0275fac=function(r){return new(r||o)(d(I),d(L),d(b))},o.\u0275cmp=h({type:o,selectors:[["app-register"]],standalone:!0,features:[_],decls:25,vars:4,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5","reg-container"],[1,"card","shadow","mt-4"],[1,"card-header"],[1,"text-center","my-3"],[1,"card-body"],[1,"form-group","mt-3"],["for","email"],["type","email","name","email","id","email","placeholder","Ingrese su correo electronico",1,"form-control",3,"ngModelChange","ngModel"],["for","pass"],["type","password","name","pass","id","pass","placeholder","Ingrese su contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["for","passConf"],["type","password","name","passConf","id","passConf","placeholder","Ingrese nuevamente su contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-msg","mt-1"],[1,"d-flex","justify-content-center","mt-5"],["type","submit",1,"btn","btn-primary","btn-block","btn-reg","my-4",3,"click"]],template:function(r,e){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),s(6,"Registro"),i()(),n(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),s(11,"Correo electronico"),i(),n(12,"input",9),p("ngModelChange",function(t){return g(e.newEmail,t)||(e.newEmail=t),t}),i()(),n(13,"div",7)(14,"label",10),s(15,"Contrase\xF1a"),i(),n(16,"input",11),p("ngModelChange",function(t){return g(e.newPass,t)||(e.newPass=t),t}),i()(),n(17,"div",7)(18,"label",12),s(19,"Confirmar contrase\xF1a"),i(),n(20,"input",13),p("ngModelChange",function(t){return g(e.newConfirmPass,t)||(e.newConfirmPass=t),t}),i()(),f(21,T,2,1,"p",14),n(22,"div",15)(23,"button",16),C("click",function(){return e.register()}),s(24,"Registrarse"),i()()()()()()()()),r&2&&(c(12),m("ngModel",e.newEmail),c(4),m("ngModel",e.newPass),c(4),m("ngModel",e.newConfirmPass),c(),w(21,e.errorMsg!=""?21:-1))},dependencies:[W,F,v,P,S,k,E],styles:[".reg-container[_ngcontent-%COMP%]{z-index:1;margin-top:100px}.card-header[_ngcontent-%COMP%]{background-color:#e4e4e4;border:none}.btn-reg[_ngcontent-%COMP%]{width:80%;font-weight:900;font-size:21px;background-color:#fc573a;border:none}.btn-reg[_ngcontent-%COMP%]:hover{background-color:#dc462c;transition:all .2s}.error-msg[_ngcontent-%COMP%]{color:red;position:absolute}"]});let l=o;return l})();export{G as RegisterComponent};
