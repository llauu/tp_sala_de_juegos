var r0=Object.defineProperty,i0=Object.defineProperties;var s0=Object.getOwnPropertyDescriptors;var ov=Object.getOwnPropertySymbols,o0=Object.getPrototypeOf,a0=Object.prototype.hasOwnProperty,c0=Object.prototype.propertyIsEnumerable,u0=Reflect.get;var av=(t,e,n)=>e in t?r0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})a0.call(e,n)&&av(t,n,e[n]);if(ov)for(var n of ov(e))c0.call(e,n)&&av(t,n,e[n]);return t},ee=(t,e)=>i0(t,s0(e));var An=(t,e,n)=>u0(o0(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var cv=null;var nd=1,rd=Symbol("SIGNAL");function Q(t){let e=cv;return cv=t,e}var uv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function l0(t){if(!(od(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nd)){if(!t.producerMustRecompute(t)&&!id(t)){t.dirty=!1,t.lastCleanEpoch=nd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nd}}function lv(t){return t&&(t.nextProducerIndex=0),Q(t)}function dv(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(od(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function id(t){xa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(l0(n),r!==n.version))return!0}return!1}function hv(t){if(xa(t),od(t))for(let e=0;e<t.producerNode.length;e++)sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sd(t,e){if(d0(t),xa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xa(i),i.producerIndexOfThis[r]=e}}function od(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function d0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function h0(){throw new Error}var f0=h0;function fv(t){f0=t}function P(t){return typeof t=="function"}function li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pa=li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function dr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof Pa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{pv(s)}catch(o){e=e??[],o instanceof Pa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Pa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&dr(n,e)}remove(e){let{_finalizers:n}=this;n&&dr(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var ad=de.EMPTY;function Oa(t){return t instanceof de||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function pv(t){P(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(t,e,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ka(t){di.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Ls(){}var gv=cd("C",void 0,void 0);function mv(t){return cd("E",void 0,t)}function yv(t){return cd("N",t,void 0)}function cd(t,e,n){return{kind:t,value:e,error:n}}var hr=null;function hi(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!hr;if(e&&(hr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=hr;if(hr=null,n)throw r}}else t()}function vv(t){St.useDeprecatedSynchronousErrorHandling&&hr&&(hr.errorThrown=!0,hr.error=t)}var fr=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Oa(e)&&e.add(this)):this.destination=m0}static create(e,n,r){return new fi(e,n,r)}next(e){this.isStopped?ld(yv(e),this):this._next(e)}error(e){this.isStopped?ld(mv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ld(gv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},p0=Function.prototype.bind;function ud(t,e){return p0.call(t,e)}var dd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fa(r)}else Fa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fa(n)}}},fi=class extends fr{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ud(e.next,s),error:e.error&&ud(e.error,s),complete:e.complete&&ud(e.complete,s)}):i=e}this.destination=new dd(i)}};function Fa(t){St.useDeprecatedSynchronousErrorHandling?vv(t):ka(t)}function g0(t){throw t}function ld(t,e){let{onStoppedNotification:n}=St;n&&di.setTimeout(()=>n(t,e))}var m0={closed:!0,next:Ls,error:g0,complete:Ls};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function st(t){return t}function hd(...t){return fd(t)}function fd(t){return t.length===0?st:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=v0(n)?n:new fi(n,r,i);return hi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_v(r),new r((i,s)=>{let o=new fi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return fd(n)(this)}toPromise(n){return n=_v(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function _v(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function y0(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function v0(t){return t&&t instanceof fr||y0(t)&&Oa(t)}function pd(t){return P(t?.lift)}function W(t){return e=>{if(pd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new gd(t,e,n,r,i)}var gd=class extends fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gi(){return W((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mi=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return gi()(this)}};var Iv=li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new La(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Iv}next(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ad:(this.currentObservers=null,s.push(n),new de(()=>{this.currentObservers=null,dr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new La(e,n),t})(),La=class extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ad}};var Me=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var md={now(){return(md.delegate||Date).now()},delegate:void 0};var Va=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var Vs={setInterval(t,e,...n){let{delegate:r}=Vs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Vs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var yi=class extends Va{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Vs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Vs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,dr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vi.now=md.now;var _i=class extends vi{constructor(e,n=vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yd=new _i(yi);var Ua=class extends yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ja=class extends _i{};var vd=new ja(Ua);var ot=new G(t=>t.complete());function wv(t){return t&&P(t.schedule)}function Ev(t){return t[t.length-1]}function Ba(t){return P(Ev(t))?t.pop():void 0}function Rn(t){return wv(Ev(t))?t.pop():void 0}function _d(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Cv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Dv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t){return this instanceof pr?(this.v=t,this):new pr(t)}function Tv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,_){s.push([h,p,m,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof pr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dv=="function"?Dv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var $a=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ha(t){return P(t?.then)}function qa(t){return P(t[pi])}function za(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function Ga(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wa=_0();function Ka(t){return P(t?.[Wa])}function Qa(t){return Tv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pr(n.read());if(i)return yield pr(void 0);yield yield pr(r)}}finally{n.releaseLock()}})}function Ya(t){return P(t?.getReader)}function pe(t){if(t instanceof G)return t;if(t!=null){if(qa(t))return I0(t);if($a(t))return w0(t);if(Ha(t))return E0(t);if(za(t))return Sv(t);if(Ka(t))return D0(t);if(Ya(t))return C0(t)}throw Ga(t)}function I0(t){return new G(e=>{let n=t[pi]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function w0(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function E0(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ka)})}function D0(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Sv(t){return new G(e=>{T0(t,e).catch(n=>e.error(n))})}function C0(t){return Sv(Qa(t))}function T0(t,e){var n,r,i,s;return Cv(this,void 0,void 0,function*(){try{for(n=bv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qe(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Mn(t,e=0){return W((n,r)=>{n.subscribe(B(r,i=>Qe(r,t,()=>r.next(i),e),()=>Qe(r,t,()=>r.complete(),e),i=>Qe(r,t,()=>r.error(i),e)))})}function Nn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Av(t,e){return pe(t).pipe(Nn(e),Mn(e))}function Rv(t,e){return pe(t).pipe(Nn(e),Mn(e))}function Mv(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Nv(t,e){return new G(n=>{let r;return Qe(n,e,()=>{r=t[Wa](),Qe(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function Ja(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xv(t,e){return Ja(Qa(t),e)}function Pv(t,e){if(t!=null){if(qa(t))return Av(t,e);if($a(t))return Mv(t,e);if(Ha(t))return Rv(t,e);if(za(t))return Ja(t,e);if(Ka(t))return Nv(t,e);if(Ya(t))return xv(t,e)}throw Ga(t)}function ue(t,e){return e?Pv(t,e):pe(t)}function N(...t){let e=Rn(t);return ue(t,e)}function Ii(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Id(t){return!!t&&(t instanceof G||P(t.lift)&&P(t.subscribe))}var on=li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:b0}=Array;function S0(t,e){return b0(e)?t(...e):t(e)}function Za(t){return $(e=>S0(t,e))}var{isArray:A0}=Array,{getPrototypeOf:R0,prototype:M0,keys:N0}=Object;function Xa(t){if(t.length===1){let e=t[0];if(A0(e))return{args:e,keys:null};if(x0(e)){let n=N0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function x0(t){return t&&typeof t=="object"&&R0(t)===M0}function ec(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function tc(...t){let e=Rn(t),n=Ba(t),{args:r,keys:i}=Xa(t);if(r.length===0)return ue([],e);let s=new G(P0(r,e,i?o=>ec(i,o):st));return n?s.pipe(Za(n)):s}function P0(t,e,n=st){return r=>{Ov(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Ov(e,()=>{let u=ue(t[c],e),l=!1;u.subscribe(B(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Ov(t,e,n){t?Qe(n,t,e):e()}function kv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?m(_):c.push(_),m=_=>{s&&e.next(_),u++;let D=!1;pe(n(_,l++)).subscribe(B(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let C=c.shift();o?Qe(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(B(e,p,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return P(e)?_e((r,i)=>$((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>kv(r,i,t,n)))}function wi(t=1/0){return _e(st,t)}function Fv(){return wi(1)}function Ei(...t){return Fv()(ue(t,Rn(t)))}function nc(t){return new G(e=>{pe(t()).subscribe(e)})}function wd(...t){let e=Ba(t),{args:n,keys:r}=Xa(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;pe(n[l]).subscribe(B(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ec(r,a):a),s.complete())}))}});return e?i.pipe(Za(e)):i}function At(t,e){return W((n,r)=>{let i=0;n.subscribe(B(r,s=>t.call(e,s,i++)&&r.next(s)))})}function xn(t){return W((e,n)=>{let r=null,i=!1,s;r=e.subscribe(B(n,void 0,void 0,o=>{s=pe(t(o,xn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Lv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(B(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Di(t,e){return P(e)?_e(t,e,1):_e(t,1)}function Pn(t){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function an(t){return t<=0?()=>ot:W((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ed(t){return $(()=>t)}function rc(t=O0){return W((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function O0(){return new on}function Us(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ut(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):st,an(1),n?Pn(e):rc(()=>new on))}function Ci(t){return t<=0?()=>ot:W((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Dd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,s)=>t(i,s,r)):st,Ci(1),n?Pn(e):rc(()=>new on))}function Cd(t,e){return W(Lv(t,e,arguments.length>=2,!0))}function Td(...t){let e=Rn(t);return W((n,r)=>{(e?Ei(t,n,e):Ei(t,n)).subscribe(r)})}function Rt(t,e){return W((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let u=0,l=s++;pe(t(c,l)).subscribe(i=B(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function bd(t){return W((e,n)=>{pe(t).subscribe(B(n,()=>n.complete(),Ls)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(B(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):st}var v_="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(xh(e,n)),this.code=e}};function xh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xs(t){return{toString:t}.toString()}var ic="__parameters__";function k0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function F0(t,e,n){return Xs(()=>{let r=k0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(ic)?c[ic]:Object.defineProperty(c,ic,{value:[]})[ic];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var gr=globalThis;function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function L0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ye(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Vv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var V0=re({__forward_ref__:re});function eo(t){return t.__forward_ref__=eo,t.toString=function(){return Ye(this())},t}function $e(t){return __(t)?t():t}function __(t){return typeof t=="function"&&t.hasOwnProperty(V0)&&t.__forward_ref__===eo}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pc(t){return Uv(t,w_)||Uv(t,E_)}function I_(t){return Pc(t)!==null}function Uv(t,e){return t.hasOwnProperty(e)?t[e]:null}function U0(t){let e=t&&(t[w_]||t[E_]);return e||null}function jv(t){return t&&(t.hasOwnProperty(Bv)||t.hasOwnProperty(j0))?t[Bv]:null}var w_=re({\u0275prov:re}),Bv=re({\u0275inj:re}),E_=re({ngInjectableDef:re}),j0=re({ngInjectorDef:re}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function D_(t){return t&&!!t.\u0275providers}var B0=re({\u0275cmp:re}),$0=re({\u0275dir:re}),H0=re({\u0275pipe:re}),q0=re({\u0275mod:re}),pc=re({\u0275fac:re}),js=re({__NG_ELEMENT_ID__:re}),$v=re({__NG_ENV_ID__:re});function Oc(t){return typeof t=="string"?t:t==null?"":String(t)}function z0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Oc(t)}function G0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function Ph(t,e){throw new b(-201,!1)}var V=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(V||{}),$d;function C_(){return $d}function gt(t){let e=$d;return $d=t,e}function T_(t,e,n){let r=Pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(e!==void 0)return e;Ph(t,"Injector")}var W0={},Bs=W0,Hd="__NG_DI_FLAG__",gc="ngTempTokenPath",K0="ngTokenPath",Q0=/\n/gm,Y0="\u0275",Hv="__source",Ai;function J0(){return Ai}function On(t){let e=Ai;return Ai=t,e}function Z0(t,e=V.Default){if(Ai===void 0)throw new b(-203,!1);return Ai===null?T_(t,void 0,e):Ai.get(t,e&V.Optional?null:void 0,e)}function U(t,e=V.Default){return(C_()||Z0)($e(t),e)}function w(t,e=V.Default){return U(t,kc(e))}function kc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qd(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=V.Default;for(let o=0;o<r.length;o++){let a=r[o],c=eS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function X0(t,e){return t[Hd]=e,t.prototype[Hd]=e,t}function eS(t){return t[Hd]}function tS(t,e,n,r){let i=t[gc];throw e[Hv]&&i.unshift(e[Hv]),t.message=nS(`
`+t.message,i,n,r),t[K0]=i,t[gc]=null,t}function nS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Y0?t.slice(2):t;let i=Ye(e);if(Array.isArray(e))i=e.map(Ye).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Q0,`
  `)}`}var Ze=X0(F0("Optional"),8);function Mi(t,e){let n=t.hasOwnProperty(pc);return n?t[pc]:null}function rS(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function iS(t){return t.flat(Number.POSITIVE_INFINITY)}function Oh(t,e){t.forEach(n=>Array.isArray(n)?Oh(n,e):e(n))}function b_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function oS(t,e,n){let r=to(t,e);return r>=0?t[r|1]=n:(r=~r,sS(t,r,e,n)),r}function Sd(t,e){let n=to(t,e);if(n>=0)return t[n|1]}function to(t,e){return aS(t,e,1)}function aS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ni={},mt=[],xi=new R(""),S_=new R("",-1),A_=new R(""),yc=class{get(e,n=Bs){if(n===Bs){let r=new Error(`NullInjectorError: No provider for ${Ye(e)}!`);throw r.name="NullInjectorError",r}return n}},R_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(R_||{}),$t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($t||{}),He=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(He||{});function cS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];uS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function M_(t){return t===3||t===4||t===6}function uS(t){return t.charCodeAt(0)===64}function $s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qv(t,n,i,null,e[++r]):qv(t,n,i,null,null))}}return t}function qv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var N_="ng-template";function lS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(kh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function kh(t){return t.type===4&&t.value!==N_}function dS(t,e,n){let r=t.type===4&&!n?N_:t.value;return e===r}function hS(t,e,n){let r=4,i=t.attrs,s=i!==null?gS(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!dS(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!lS(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=fS(c,i,kh(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function fS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return mS(e,t)}function pS(t,e,n=!1){for(let r=0;r<e.length;r++)if(hS(t,e[r],n))return!0;return!1}function gS(t){for(let e=0;e<t.length;e++){let n=t[e];if(M_(n))return e}return t.length}function mS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zv(t,e){return t?":not("+e.trim()+")":e}function yS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=zv(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=zv(s,i)),e}function vS(t){return t.map(yS).join(",")}function _S(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function Xe(t){return Xs(()=>{let e=F_(t),n=ee(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===R_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});L_(n);let r=t.dependencies;return n.directiveDefs=Wv(r,!1),n.pipeDefs=Wv(r,!0),n.id=ES(n),n})}function IS(t){return vr(t)||x_(t)}function wS(t){return t!==null}function _t(t){return Xs(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gv(t,e){if(t==null)return Ni;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=He.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==He.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ot(t){return Xs(()=>{let e=F_(t);return L_(e),e})}function vr(t){return t[B0]||null}function x_(t){return t[$0]||null}function P_(t){return t[H0]||null}function O_(t){let e=vr(t)||x_(t)||P_(t);return e!==null?e.standalone:!1}function k_(t,e){let n=t[q0]||null;if(!n&&e===!0)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return n}function F_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gv(t.inputs,e),outputs:Gv(t.outputs),debugInfo:null}}function L_(t){t.features?.forEach(e=>e(t))}function Wv(t,e){if(!t)return null;let n=e?P_:IS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wS)}function ES(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fc(t){return{\u0275providers:t}}function Vn(...t){return{\u0275providers:V_(!0,t),\u0275fromNgModule:!0}}function V_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Oh(e,o=>{let a=o;Gd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&U_(i,s),n}function U_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fh(i,s=>{e(s,r)})}}function Gd(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,s=jv(t),o=!s&&vr(t);if(!s&&!o){let c=t.ngModule;if(s=jv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Gd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Oh(s.imports,l=>{Gd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&U_(u,e)}if(!a){let u=Mi(i)||(()=>new i);e({provide:i,useFactory:u,deps:mt},i),e({provide:A_,useValue:i,multi:!0},i),e({provide:xi,useValue:()=>U(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Fh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Fh(t,e){for(let n of t)D_(n)&&(n=n.\u0275providers),Array.isArray(n)?Fh(n,e):e(n)}var DS=re({provide:String,useValue:re});function j_(t){return t!==null&&typeof t=="object"&&DS in t}function CS(t){return!!(t&&t.useExisting)}function TS(t){return!!(t&&t.useFactory)}function Pi(t){return typeof t=="function"}function bS(t){return!!t.useClass}var Lc=new R(""),cc={},SS={},Ad;function Lh(){return Ad===void 0&&(Ad=new yc),Ad}var yt=class{},Hs=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kd(e,o=>this.processProvider(o)),this.records.set(S_,Ti(void 0,this)),i.has("environment")&&this.records.set(yt,Ti(void 0,this));let s=this.records.get(Lc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(A_,mt,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=On(this),r=gt(void 0),i;try{return e()}finally{On(n),gt(r)}}get(e,n=Bs,r=V.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($v))return e[$v](this);r=kc(r);let i,s=On(this),o=gt(void 0);try{if(!(r&V.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=xS(e)&&Pc(e);u&&this.injectableDefInScope(u)?c=Ti(Wd(e),cc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&V.Self?Lh():this.parent;return n=r&V.Optional&&n===Bs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[gc]=a[gc]||[]).unshift(Ye(e)),s)throw a;return tS(a,e,"R3InjectorError",this.source)}else throw a}finally{gt(o),On(s)}}resolveInjectorInitializers(){let e=Q(null),n=On(this),r=gt(void 0),i;try{let s=this.get(xi,mt,V.Self);for(let o of s)o()}finally{On(n),gt(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=$e(e);let n=Pi(e)?e:$e(e&&e.provide),r=RS(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,cc,!0),i.factory=()=>qd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===cc&&(n.value=SS,n.value=n.factory()),typeof n.value=="object"&&n.value&&NS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wd(t){let e=Pc(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof R)throw new b(204,!1);if(t instanceof Function)return AS(t);throw new b(204,!1)}function AS(t){if(t.length>0)throw new b(204,!1);let n=U0(t);return n!==null?()=>n.factory(t):()=>new t}function RS(t){if(j_(t))return Ti(void 0,t.useValue);{let e=B_(t);return Ti(e,cc)}}function B_(t,e,n){let r;if(Pi(t)){let i=$e(t);return Mi(i)||Wd(i)}else if(j_(t))r=()=>$e(t.useValue);else if(TS(t))r=()=>t.useFactory(...qd(t.deps||[]));else if(CS(t))r=()=>U($e(t.useExisting));else{let i=$e(t&&(t.useClass||t.provide));if(MS(t))r=()=>new i(...qd(t.deps));else return Mi(i)||Wd(i)}return r}function Ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MS(t){return!!t.deps}function NS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xS(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Kd(t,e){for(let n of t)Array.isArray(n)?Kd(n,e):n&&D_(n)?Kd(n.\u0275providers,e):e(n)}function Sr(t,e){t instanceof Hs&&t.assertNotDestroyed();let n,r=On(t),i=gt(void 0);try{return e()}finally{On(r),gt(i)}}function PS(){return C_()!==void 0||J0()!=null}function OS(t){return typeof t=="function"}var hn=0,O=1,S=2,xe=3,Nt=4,kt=5,vc=6,qs=7,xt=8,Oi=9,Pt=10,Ce=11,zs=12,Kv=13,Li=14,Ht=15,no=16,bi=17,cn=18,Vc=19,$_=20,kn=21,Rd=22,_r=23,qt=25,H_=1;var Ir=7,_c=8,ki=9,Je=10,Vh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vh||{});function mr(t){return Array.isArray(t)&&typeof t[H_]=="object"}function fn(t){return Array.isArray(t)&&t[H_]===!0}function q_(t){return(t.flags&4)!==0}function Uc(t){return t.componentOffset>-1}function Uh(t){return(t.flags&1)===1}function Fn(t){return!!t.template}function kS(t){return(t[S]&512)!==0}var Qd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function z_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Un(){return G_}function G_(t){return t.type.prototype.ngOnChanges&&(t.setInput=LS),FS}Un.ngInherit=!0;function FS(){let t=K_(this),e=t?.current;if(e){let n=t.previous;if(n===Ni)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LS(t,e,n,r,i){let s=this.declaredInputs[r],o=K_(t)||VS(t,{previous:Ni,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Qd(u&&u.currentValue,n,c===Ni),z_(t,e,i,n)}var W_="__ngSimpleChanges__";function K_(t){return t[W_]||null}function VS(t,e){return t[W_]=e}var Qv=null;var jt=function(t,e,n){Qv?.(t,e,n)},US="svg",jS="math",BS=!1;function $S(){return BS}function zt(t){for(;Array.isArray(t);)t=t[hn];return t}function Q_(t,e){return zt(e[t])}function It(t,e){return zt(e[t.index])}function jh(t,e){return t.data[e]}function jn(t,e){let n=e[t];return mr(n)?n:n[hn]}function HS(t){return(t[S]&4)===4}function Bh(t){return(t[S]&128)===128}function qS(t){return fn(t[xe])}function Ic(t,e){return e==null?null:t[e]}function Y_(t){t[bi]=0}function zS(t){t[S]&1024||(t[S]|=1024,Bh(t)&&Gs(t))}function GS(t,e){for(;t>0;)e=e[Li],t--;return e}function $h(t){return!!(t[S]&9216||t[_r]?.dirty)}function Yd(t){t[Pt].changeDetectionScheduler?.notify(1),$h(t)?Gs(t):t[S]&64&&($S()?(t[S]|=1024,Gs(t)):t[Pt].changeDetectionScheduler?.notify())}function Gs(t){t[Pt].changeDetectionScheduler?.notify();let e=Ws(t);for(;e!==null&&!(e[S]&8192||(e[S]|=8192,!Bh(e)));)e=Ws(e)}function J_(t,e){if((t[S]&256)===256)throw new b(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function WS(t,e){if(t[kn]===null)return;let n=t[kn].indexOf(e);n!==-1&&t[kn].splice(n,1)}function Ws(t){let e=t[xe];return fn(e)?e[xe]:e}var z={lFrame:iI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KS(){return z.lFrame.elementDepthCount}function QS(){z.lFrame.elementDepthCount++}function YS(){z.lFrame.elementDepthCount--}function Z_(){return z.bindingsEnabled}function JS(){return z.skipHydrationRootTNode!==null}function ZS(t){return z.skipHydrationRootTNode===t}function XS(){z.skipHydrationRootTNode=null}function ie(){return z.lFrame.lView}function et(){return z.lFrame.tView}function qe(){let t=X_();for(;t!==null&&t.type===64;)t=t.parent;return t}function X_(){return z.lFrame.currentTNode}function eA(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ro(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function eI(){return z.lFrame.isParent}function tA(){z.lFrame.isParent=!1}function nA(t){return z.lFrame.bindingIndex=t}function jc(){return z.lFrame.bindingIndex++}function rA(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iA(){return z.lFrame.inI18n}function sA(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jd(e)}function oA(){return z.lFrame.currentDirectiveIndex}function Jd(t){z.lFrame.currentDirectiveIndex=t}function aA(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function tI(){return z.lFrame.currentQueryIndex}function Hh(t){z.lFrame.currentQueryIndex=t}function cA(t){let e=t[O];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function nI(t,e,n){if(n&V.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=cA(s),i===null||(s=s[Li],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=rI();return r.currentTNode=e,r.lView=t,!0}function qh(t){let e=rI(),n=t[O];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rI(){let t=z.lFrame,e=t===null?null:t.child;return e===null?iI(t):e}function iI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function sI(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oI=sI;function zh(){let t=sI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uA(t){return(z.lFrame.contextLView=GS(t,z.lFrame.contextLView))[xt]}function Vi(){return z.lFrame.selectedIndex}function wr(t){z.lFrame.selectedIndex=t}function aI(){let t=z.lFrame;return jh(t.tView,t.selectedIndex)}function lA(){return z.lFrame.currentNamespace}var cI=!0;function Gh(){return cI}function Wh(t){cI=t}function dA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=G_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function uc(t,e,n){uI(t,e,3,n)}function lc(t,e,n,r){(t[S]&3)===n&&uI(t,e,n,r)}function Md(t,e){let n=t[S];(n&3)===e&&(n&=16383,n+=1,t[S]=n)}function uI(t,e,n,r){let i=r!==void 0?t[bi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[bi]+=65536),(a<s||s==-1)&&(hA(t,n,e,c),t[bi]=(t[bi]&4294901760)+c+2),c++}function Yv(t,e){jt(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),jt(5,t,e)}}function hA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[S]>>14<t[bi]>>16&&(t[S]&3)===e&&(t[S]+=16384,Yv(a,s)):Yv(a,s)}var Ri=-1,Er=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fA(t){return t instanceof Er}function pA(t){return(t.flags&8)!==0}function gA(t){return(t.flags&16)!==0}function lI(t){return t!==Ri}function wc(t){return t&32767}function mA(t){return t>>16}function Ec(t,e){let n=mA(t),r=e;for(;n>0;)r=r[Li],n--;return r}var Zd=!0;function Jv(t){let e=Zd;return Zd=t,e}var yA=256,dI=yA-1,hI=5,vA=0,Bt={};function _A(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(js)&&(r=n[js]),r==null&&(r=n[js]=vA++);let i=r&dI,s=1<<i;e.data[t+(i>>hI)]|=s}function Dc(t,e){let n=fI(t,e);if(n!==-1)return n;let r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Nd(r.data,t),Nd(e,null),Nd(r.blueprint,null));let i=Qh(t,e),s=t.injectorIndex;if(lI(i)){let o=wc(i),a=Ec(i,e),c=a[O].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Nd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vI(i),r===null)return Ri;if(n++,i=i[Li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ri}function Xd(t,e,n){_A(t,e,n)}function IA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(M_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function pI(t,e,n){if(n&V.Optional||t!==void 0)return t;Ph(e,"NodeInjector")}function gI(t,e,n,r){if(n&V.Optional&&r===void 0&&(r=null),!(n&(V.Self|V.Host))){let i=t[Oi],s=gt(void 0);try{return i?i.get(e,r,n&V.Optional):T_(e,r,n&V.Optional)}finally{gt(s)}}return pI(r,e,n)}function mI(t,e,n,r=V.Default,i){if(t!==null){if(e[S]&2048&&!(r&V.Self)){let o=CA(t,e,n,r,Bt);if(o!==Bt)return o}let s=yI(t,e,n,r,Bt);if(s!==Bt)return s}return gI(e,n,r,i)}function yI(t,e,n,r,i){let s=EA(n);if(typeof s=="function"){if(!nI(e,t,r))return r&V.Host?pI(i,n,r):gI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&V.Optional))Ph(n);else return o}finally{oI()}}else if(typeof s=="number"){let o=null,a=fI(t,e),c=Ri,u=r&V.Host?e[Ht][kt]:null;for((a===-1||r&V.SkipSelf)&&(c=a===-1?Qh(t,e):e[a+8],c===Ri||!Xv(r,!1)?a=-1:(o=e[O],a=wc(c),e=Ec(c,e)));a!==-1;){let l=e[O];if(Zv(s,a,l.data)){let d=wA(a,e,n,o,r,u);if(d!==Bt)return d}c=e[a+8],c!==Ri&&Xv(r,e[O].data[a+8]===u)&&Zv(s,a,e)?(o=l,a=wc(c),e=Ec(c,e)):a=-1}}return i}function wA(t,e,n,r,i,s){let o=e[O],a=o.data[t+8],c=r==null?Uc(a)&&Zd:r!=o&&(a.type&3)!==0,u=i&V.Host&&s===a,l=dc(a,o,n,c,u);return l!==null?Dr(e,o,l,a):Bt}function dc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&Fn(p)&&p.type===n)return c}return null}function Dr(t,e,n,r){let i=t[n],s=e.data;if(fA(i)){let o=i;o.resolving&&G0(z0(s[n]));let a=Jv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?gt(o.injectImpl):null,l=nI(t,r,V.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dA(n,s[n],e)}finally{u!==null&&gt(u),Jv(a),o.resolving=!1,oI()}}return i}function EA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(js)?t[js]:void 0;return typeof e=="number"?e>=0?e&dI:DA:e}function Zv(t,e,n){let r=1<<t;return!!(n[e+(t>>hI)]&r)}function Xv(t,e){return!(t&V.Self)&&!(t&V.Host&&e)}var yr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mI(this._tNode,this._lView,e,kc(r),n)}};function DA(){return new yr(qe(),ie())}function io(t){return Xs(()=>{let e=t.prototype.constructor,n=e[pc]||eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[pc]||eh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function eh(t){return __(t)?()=>{let e=eh($e(t));return e&&e()}:Mi(t)}function CA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[S]&2048&&!(o[S]&512);){let a=yI(s,o,n,r|V.Self,Bt);if(a!==Bt)return a;let c=s.parent;if(!c){let u=o[$_];if(u){let l=u.get(n,Bt,r);if(l!==Bt)return l}c=vI(o),o=o[Li]}s=c}return i}function vI(t){let e=t[O],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function Yh(t){return IA(qe(),t)}function e_(t,e=null,n=null,r){let i=_I(t,e,n,r);return i.resolveInjectorInitializers(),i}function _I(t,e=null,n=null,r,i=new Set){let s=[n||mt,Vn(t)];return r=r||(typeof t=="object"?void 0:Ye(t)),new Hs(s,e||Lh(),r||null,i)}var wt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return e_({name:""},i,r,"");{let s=r.name??"";return e_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Bs,e.NULL=new yc,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>U(S_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var TA="ngOriginalError";function xd(t){return t[TA]}var un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&xd(e);for(;n&&xd(n);)n=xd(n);return n||null}},II=new R("",{providedIn:"root",factory:()=>w(un).handleError.bind(void 0)}),wI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),th=class extends wI{constructor(e){super(),this._lView=e}onDestroy(e){return J_(this._lView,e),()=>WS(this._lView,e)}};function bA(){return new th(ie())}function SA(){return Ui(qe(),ie())}function Ui(t,e){return new Et(It(t,e))}var Et=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SA;let t=e;return t})();function AA(t){return t instanceof Et?t.nativeElement:t}var nh=class extends Fe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,PS()&&(this.destroyRef=w(wI,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Pd(s),i&&(i=Pd(i)),o&&(o=Pd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof de&&e.add(a),a}};function Pd(t){return e=>{setTimeout(t,void 0,e)}}var Ne=nh;function RA(){return this._results[Symbol.iterator]()}var rh=class t{get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iS(e);(this._changesDetected=!rS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function EI(t){return(t.flags&128)===128}var DI=new Map,MA=0;function NA(){return MA++}function xA(t){DI.set(t[Vc],t)}function PA(t){DI.delete(t[Vc])}var t_="__ngContext__";function Cr(t,e){mr(e)?(t[t_]=e[Vc],xA(e)):t[t_]=e}function CI(t){return bI(t[zs])}function TI(t){return bI(t[Nt])}function bI(t){for(;t!==null&&!fn(t);)t=t[Nt];return t}var ih;function SI(t){ih=t}function OA(){if(ih!==void 0)return ih;if(typeof document<"u")return document;throw new b(210,!1)}var Jh=new R("",{providedIn:"root",factory:()=>kA}),kA="ng",Zh=new R(""),Bn=new R("",{providedIn:"platform",factory:()=>"unknown"});var Xh=new R("",{providedIn:"root",factory:()=>OA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var FA="h",LA="b";var VA=()=>null;function ef(t,e,n=!1){return VA(t,e,n)}var AI=!1,UA=new R("",{providedIn:"root",factory:()=>AI});var sc;function jA(){if(sc===void 0&&(sc=null,gr.trustedTypes))try{sc=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sc}function n_(t){return jA()?.createScriptURL(t)||t}var Cc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${v_})`}};function so(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function tf(t,e){let n=BA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${v_})`)}return n===e}function BA(t){return t instanceof Cc&&t.getTypeName()||null}var $A=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function RI(t){return t=String(t),t.match($A)?t:"unsafe:"+t}var Bc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bc||{});function HA(t){let e=NI();return e?e.sanitize(Bc.URL,t)||"":tf(t,"URL")?so(t):RI(Oc(t))}function qA(t){let e=NI();if(e)return n_(e.sanitize(Bc.RESOURCE_URL,t)||"");if(tf(t,"ResourceURL"))return n_(so(t));throw new b(904,!1)}function zA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?qA:HA}function MI(t,e,n){return zA(e,n)(t)}function NI(){let t=ie();return t&&t[Pt].sanitizer}function xI(t){return t instanceof Function?t():t}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),GA;function nf(t,e){return GA(t,e)}function Si(t,e,n,r,i){if(r!=null){let s,o=!1;fn(r)?s=r:mr(r)&&(o=!0,r=r[hn]);let a=zt(r);t===0&&n!==null?i==null?FI(e,n,a):bc(e,n,a,i||null,!0):t===1&&n!==null?bc(e,n,a,i||null,!0):t===2?uR(e,a,o):t===3&&e.destroyNode(a),s!=null&&dR(e,t,s,n,i)}}function WA(t,e){return t.createText(e)}function KA(t,e,n){t.setValue(e,n)}function PI(t,e,n){return t.createElement(e,n)}function QA(t,e){OI(t,e),e[hn]=null,e[kt]=null}function YA(t,e,n,r,i,s){r[hn]=i,r[kt]=e,$c(t,r,n,1,i,s)}function OI(t,e){e[Pt].changeDetectionScheduler?.notify(1),$c(t,e,e[Ce],2,null,null)}function JA(t){let e=t[zs];if(!e)return Od(t[O],t);for(;e;){let n=null;if(mr(e))n=e[zs];else{let r=e[Je];r&&(n=r)}if(!n){for(;e&&!e[Nt]&&e!==t;)mr(e)&&Od(e[O],e),e=e[xe];e===null&&(e=t),mr(e)&&Od(e[O],e),n=e&&e[Nt]}e=n}}function ZA(t,e,n,r){let i=Je+r,s=n.length;r>0&&(n[i-1][Nt]=e),r<s-Je?(e[Nt]=n[i],b_(n,Je+r,e)):(n.push(e),e[Nt]=null),e[xe]=n;let o=e[no];o!==null&&n!==o&&XA(o,e);let a=e[cn];a!==null&&a.insertView(t),Yd(e),e[S]|=128}function XA(t,e){let n=t[ki],i=e[xe][xe][Ht];e[Ht]!==i&&(t[S]|=Vh.HasTransplantedViews),n===null?t[ki]=[e]:n.push(e)}function kI(t,e){let n=t[ki],r=n.indexOf(e);n.splice(r,1)}function Tc(t,e){if(t.length<=Je)return;let n=Je+e,r=t[n];if(r){let i=r[no];i!==null&&i!==t&&kI(i,r),e>0&&(t[n-1][Nt]=r[Nt]);let s=mc(t,Je+e);QA(r[O],r);let o=s[cn];o!==null&&o.detachView(s[O]),r[xe]=null,r[Nt]=null,r[S]&=-129}return r}function rf(t,e){if(!(e[S]&256)){let n=e[Ce];n.destroyNode&&$c(t,e,n,3,null,null),JA(e)}}function Od(t,e){if(e[S]&256)return;let n=Q(null);try{e[S]&=-129,e[S]|=256,e[_r]&&hv(e[_r]),tR(t,e),eR(t,e),e[O].type===1&&e[Ce].destroy();let r=e[no];if(r!==null&&fn(e[xe])){r!==e[xe]&&kI(r,e);let i=e[cn];i!==null&&i.detachView(t)}PA(e)}finally{Q(n)}}function eR(t,e){let n=t.cleanup,r=e[qs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[qs]=null);let i=e[kn];if(i!==null){e[kn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function tR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Er)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];jt(4,a,c);try{c.call(a)}finally{jt(5,a,c)}}else{jt(4,i,s);try{s.call(i)}finally{jt(5,i,s)}}}}}function nR(t,e,n){return rR(t,e.parent,n)}function rR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===$t.None||s===$t.Emulated)return null}return It(r,n)}}function bc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FI(t,e,n){t.appendChild(e,n)}function r_(t,e,n,r,i){r!==null?bc(t,e,n,r,i):FI(t,e,n)}function iR(t,e,n,r){t.removeChild(e,n,r)}function sf(t,e){return t.parentNode(e)}function sR(t,e){return t.nextSibling(e)}function oR(t,e,n){return cR(t,e,n)}function aR(t,e,n){return t.type&40?It(t,n):null}var cR=aR,i_;function of(t,e,n,r){let i=nR(t,r,e),s=e[Ce],o=r.parent||e[kt],a=oR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)r_(s,i,n[c],a,!1);else r_(s,i,n,a,!1);i_!==void 0&&i_(s,r,e,n,i)}function hc(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return sh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return hc(t,r);{let i=t[e.index];return fn(i)?sh(-1,i):zt(i)}}else{if(n&32)return nf(e,t)()||zt(t[e.index]);{let r=LI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ws(t[Ht]);return hc(i,r)}else return hc(t,e.next)}}}return null}function LI(t,e){if(e!==null){let r=t[Ht][kt],i=e.projection;return r.projection[i]}return null}function sh(t,e){let n=Je+t+1;if(n<e.length){let r=e[n],i=r[O].firstChild;if(i!==null)return hc(r,i)}return e[Ir]}function uR(t,e,n){let r=sf(t,e);r&&iR(t,r,e,n)}function af(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Cr(zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)af(t,e,n.child,r,i,s,!1),Si(e,t,i,a,s);else if(c&32){let u=nf(n,r),l;for(;l=u();)Si(e,t,i,l,s);Si(e,t,i,a,s)}else c&16?lR(t,e,r,n,i,s):Si(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $c(t,e,n,r,i,s){af(n,r,t.firstChild,e,i,s,!1)}function lR(t,e,n,r,i,s){let o=n[Ht],c=o[kt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Si(e,t,i,l,s)}else{let u=c,l=o[xe];EI(r)&&(u.flags|=128),af(t,e,u,l,i,s,!0)}}function dR(t,e,n,r,i){let s=n[Ir],o=zt(n);s!==o&&Si(e,t,r,s,i);for(let a=Je;a<n.length;a++){let c=n[a];$c(c[O],c,t,e,r,s)}}function hR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ln.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(n,r,i,s))}}function fR(t,e,n){t.setAttribute(e,"style",n)}function VI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&zd(t,e,r),i!==null&&VI(t,e,i),s!==null&&fR(t,e,s)}var ji={};function tt(t=1){jI(et(),ie(),Vi()+t,!1)}function jI(t,e,n,r){if(!r)if((e[S]&3)===3){let s=t.preOrderCheckHooks;s!==null&&uc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&lc(e,s,0,n)}wr(n)}function Y(t,e=V.Default){let n=ie();if(n===null)return U(t,e);let r=qe();return mI(r,n,$e(t),e)}function BI(t,e,n,r,i,s){let o=Q(null);try{let a=null;i&He.SignalBased&&(a=e[r][rd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&He.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):z_(e,a,r,s)}finally{Q(o)}}function pR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wr(~i);else{let s=i,o=n[++r],a=n[++r];sA(o,s);let c=e[s];a(2,c)}}}finally{wr(-1)}}function Hc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[hn]=i,d[S]=r|4|128|8|64,(u!==null||t&&t[S]&2048)&&(d[S]|=2048),Y_(d),d[xe]=d[Li]=t,d[xt]=n,d[Pt]=o||t&&t[Pt],d[Ce]=a||t&&t[Ce],d[Oi]=c||t&&t[Oi]||null,d[kt]=s,d[Vc]=NA(),d[vc]=l,d[$_]=u,d[Ht]=e.type==2?t[Ht]:d,d}function qc(t,e,n,r,i){let s=t.data[e];if(s===null)s=gR(t,e,n,r,i),iA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eA();s.injectorIndex=o===null?-1:o.injectorIndex}return ro(s,!0),s}function gR(t,e,n,r,i){let s=X_(),o=eI(),a=o?s:s&&s.parent,c=t.data[e]=wR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function $I(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function HI(t,e,n,r,i){let s=Vi(),o=r&2;try{wr(-1),o&&e.length>qt&&jI(t,e,qt,!1),jt(o?2:0,i),n(r,i)}finally{wr(s),jt(o?3:1,i)}}function qI(t,e,n){if(q_(e)){let r=Q(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Q(r)}}}function zI(t,e,n){Z_()&&(AR(t,e,n,It(n,e)),(n.flags&64)===64&&YI(t,e,n))}function GI(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function WI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cf(t,e,n,r,i,s,o,a,c,u,l){let d=qt+r,h=d+i,p=mR(d,h),m=typeof u=="function"?u():u;return p[O]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function mR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ji);return n}function yR(t,e,n,r){let s=r.get(UA,AI)||n===$t.ShadowDom,o=t.selectRootElement(e,s);return vR(o),o}function vR(t){_R(t)}var _R=()=>null;function IR(t,e,n,r){let i=XI(e);i.push(n),t.firstCreatePass&&ew(t).push(r,i.length-1)}function wR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return JS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function s_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=He.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?o_(r,n,u,a,c):o_(r,n,u,a)}return r}function o_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ER(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=s_(0,d.inputs,l,c,p),u=s_(1,d.outputs,l,u,m);let _=c!==null&&o!==null&&!kh(e)?UR(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function DR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function CR(t,e,n,r,i,s,o,a){let c=It(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(uf(t,n,l,r,i),Uc(e)&&TR(n,e.index)):e.type&3?(r=DR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function TR(t,e){let n=jn(e,t);n[S]&16||(n[S]|=64)}function KI(t,e,n,r){if(Z_()){let i=r===null?null:{"":-1},s=MR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&QI(t,e,n,o,i,a),i&&NR(n,r,i)}n.mergedAttrs=$s(n.mergedAttrs,n.attrs)}function QI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Xd(Dc(n,e),t,r[u].type);PR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=$I(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=$s(n.mergedAttrs,l.hostAttrs),OR(t,n,e,c,l),xR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ER(t,n,s)}function bR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;SR(o)!=a&&o.push(a),o.push(n,r,s)}}function SR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Uc(n)&&kR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dc(n,e),Cr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Dr(e,t,a,n);if(Cr(u,e),o!==null&&VR(e,a-i,u,c,n,o),Fn(c)){let l=jn(n.index,e);l[xt]=Dr(e,t,a,n)}}}function YI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=oA();try{wr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Jd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RR(c,u)}}finally{wr(-1),Jd(o)}}function RR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function MR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(pS(e,o.selectors,!1))if(r||(r=[]),Fn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;oh(t,e,c)}else r.unshift(o),oh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function oh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function NR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function xR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fn(e)&&(n[""]=t)}}function PR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function OR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mi(i.type,!0)),o=new Er(s,Fn(i),Y);t.blueprint[r]=o,n[r]=o,bR(t,e,r,$I(t,n,i.hostVars,ji),i)}function kR(t,e,n){let r=It(e,t),i=WI(n),s=t[Pt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=zc(t,Hc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function FR(t,e,n,r,i,s){let o=It(t,e);LR(e[Ce],o,s,t.value,n,r,i)}function LR(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Oc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function VR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];BI(r,n,c,u,l,d)}}function UR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function JI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZI(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Hh(s),a.contentQueries(2,e[o],o)}}}finally{Q(r)}}}function zc(t,e){return t[zs]?t[Kv][Nt]=e:t[zs]=e,t[Kv]=e,e}function ah(t,e,n){Hh(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function XI(t){return t[qs]||(t[qs]=[])}function ew(t){return t.cleanup||(t.cleanup=[])}function tw(t,e){let n=t[Oi],r=n?n.get(un,null):null;r&&r.handleError(e)}function uf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];BI(l,u,r,a,c,i)}}function jR(t,e,n){let r=Q_(e,t);KA(t[Ce],r,n)}function BR(t,e){let n=jn(e,t),r=n[O];$R(r,n);let i=n[hn];i!==null&&n[vc]===null&&(n[vc]=ef(i,n[Oi])),lf(r,n,n[xt])}function $R(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lf(t,e,n){qh(e);try{let r=t.viewQuery;r!==null&&ah(1,r,n);let i=t.template;i!==null&&HI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cn]?.finishViewCreation(t),t.staticContentQueries&&ZI(t,e),t.staticViewQueries&&ah(2,t.viewQuery,n);let s=t.components;s!==null&&HR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[S]&=-5,zh()}}function HR(t,e){for(let n=0;n<e.length;n++)BR(t,e[n])}function nw(t,e,n,r){let i=Q(null);try{let s=e.tView,a=t[S]&4096?4096:16,c=Hc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[no]=u;let l=t[cn];return l!==null&&(c[cn]=l.createEmbeddedView(s)),lf(s,c,n),c}finally{Q(i)}}function qR(t,e){let n=Je+e;if(n<t.length)return t[n]}function ch(t,e){return!e||e.firstChild===null||EI(t)}function rw(t,e,n,r=!0){let i=e[O];if(ZA(i,e,t,n),r){let o=sh(n,t),a=e[Ce],c=sf(a,t[Ir]);c!==null&&YA(i,t[kt],a,e,c,o)}let s=e[vc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function zR(t,e){let n=Tc(t,e);return n!==void 0&&rf(n[O],n),n}function Sc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(zt(s)),fn(s)&&GR(s,r);let o=n.type;if(o&8)Sc(t,e,n.child,r);else if(o&32){let a=nf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=LI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ws(e[Ht]);Sc(c[O],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GR(t,e){for(let n=Je;n<t.length;n++){let r=t[n],i=r[O].firstChild;i!==null&&Sc(r[O],r,i,e)}t[Ir]!==t[hn]&&e.push(t[Ir])}var iw=[];function WR(t){return t[_r]??KR(t)}function KR(t){let e=iw.pop()??Object.create(YR);return e.lView=t,e}function QR(t){t.lView[_r]!==t&&(t.lView=null,iw.push(t))}var YR=ee(I({},uv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gs(t.lView)},consumerOnSignalRead(){this.lView[_r]=this}}),sw=100;function ow(t,e=!0,n=0){let r=t[Pt],i=r.rendererFactory,s=!1;s||i.begin?.();try{JR(t,n)}catch(o){throw e&&tw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function JR(t,e){uh(t,e);let n=0;for(;$h(t);){if(n===sw)throw new b(103,!1);n++,uh(t,1)}}function ZR(t,e,n,r){let i=e[S];if((i&256)===256)return;let s=!1;!s&&e[Pt].inlineEffectRunner?.flush(),qh(e);let o=null,a=null;!s&&XR(t)&&(a=WR(e),o=lv(a));try{Y_(e),nA(t.bindingStartIndex),n!==null&&HI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&uc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&lc(e,d,0,null),Md(e,0)}if(eM(e),aw(e,0),t.contentQueries!==null&&ZI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&uc(e,d)}else{let d=t.contentHooks;d!==null&&lc(e,d,1),Md(e,1)}pR(t,e);let u=t.components;u!==null&&uw(e,u,0);let l=t.viewQuery;if(l!==null&&ah(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&uc(e,d)}else{let d=t.viewHooks;d!==null&&lc(e,d,2),Md(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rd]){for(let d of e[Rd])d();e[Rd]=null}s||(e[S]&=-73)}catch(c){throw Gs(e),c}finally{a!==null&&(dv(a,o),QR(a)),zh()}}function XR(t){return t.type!==2}function aw(t,e){for(let n=CI(t);n!==null;n=TI(n))for(let r=Je;r<n.length;r++){let i=n[r];cw(i,e)}}function eM(t){for(let e=CI(t);e!==null;e=TI(e)){if(!(e[S]&Vh.HasTransplantedViews))continue;let n=e[ki];for(let r=0;r<n.length;r++){let i=n[r],s=i[xe];zS(i)}}}function tM(t,e,n){let r=jn(e,t);cw(r,n)}function cw(t,e){Bh(t)&&uh(t,e)}function uh(t,e){let r=t[O],i=t[S],s=t[_r],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&id(s)),s&&(s.dirty=!1),t[S]&=-9217,o)ZR(r,t,r.template,t[xt]);else if(i&8192){aw(t,1);let a=r.components;a!==null&&uw(t,a,1)}}function uw(t,e,n){for(let r=0;r<e.length;r++)tM(t,e[r],n)}function df(t){for(t[Pt].changeDetectionScheduler?.notify();t;){t[S]|=64;let e=Ws(t);if(kS(t)&&!e)return t;t=e}return null}var Tr=class{get rootNodes(){let e=this._lView,n=e[O];return Sc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return(this._lView[S]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(fn(e)){let n=e[_c],r=n?n.indexOf(this):-1;r>-1&&(Tc(e,r),mc(n,r))}this._attachedToViewContainer=!1}rf(this._lView[O],this._lView)}onDestroy(e){J_(this._lView,e)}markForCheck(){df(this._cdRefInjectingView||this._lView)}detach(){this._lView[S]&=-129}reattach(){Yd(this._lView),this._lView[S]|=128}detectChanges(){this._lView[S]|=1024,ow(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,OI(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,Yd(this._lView)}},Ks=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iM;let t=e;return t})(),nM=Ks,rM=class extends nM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=nw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Tr(i)}};function iM(){return hf(qe(),ie())}function hf(t,e){return t.type&4?new rM(e,t,Ui(t,e)):null}var Wz=new RegExp(`^(\\d+)*(${LA}|${FA})*(.*)`);var sM=()=>null;function lh(t,e){return sM(t,e)}var dh=class{},hh=class{},Ac=class{};function oM(t){let e=Error(`No component factory found for ${Ye(t)}.`);return e[aM]=t,e}var aM="ngComponent";var fh=class{resolveComponentFactory(e){throw oM(e)}},Gc=(()=>{let e=class e{};e.NULL=new fh;let t=e;return t})(),Qs=class{},$n=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>cM();let t=e;return t})();function cM(){let t=ie(),e=qe(),n=jn(e.index,t);return(mr(n)?n:t)[Ce]}var uM=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),kd={};var a_=new Set;function ff(t){a_.has(t)||(a_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function c_(...t){}function lM(){let t=typeof gr.requestAnimationFrame=="function",e=gr[t?"requestAnimationFrame":"setTimeout"],n=gr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=lM().nativeRequestAnimationFrame,fM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,dM,c_,c_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},dM={};function pf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ph(t),t.isCheckStableRunning=!0,pf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ph(t))}function fM(t){let e=()=>{hM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(pM(a))return n.invokeTask(i,s,o,a);try{return u_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),l_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return u_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),l_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ph(t),pf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ph(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function u_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l_(t){t._nesting--,pf(t)}function pM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var lw=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Vv(i,a);else if(s==2){let c=a,u=e[++o];r=Vv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Rc=class extends Gc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vr(e);return new Ys(n,this.ngModule)}};function d_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function gM(t){let e=t.toLowerCase();return e==="svg"?US:e==="math"?jS:null}var mh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kc(r);let i=this.injector.get(e,kd,r);return i!==kd||n===kd?i:this.parentInjector.get(e,n,r)}},Ys=class extends Ac{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=d_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return d_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=vS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Q(null);try{i=i||this.ngModule;let o=i instanceof yt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new mh(e,o):e,c=a.get(Qs,null);if(c===null)throw new b(407,!1);let u=a.get(uM,null),l=a.get(lw,null),d=a.get(dh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?yR(p,r,this.componentDef.encapsulation,a):PI(p,m,gM(m)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let C=null;_!==null&&(C=ef(_,a,!0));let oe=cf(0,null,null,1,0,null,null,null,null,null,null),ne=Hc(null,oe,null,D,null,null,h,p,a,null,C);qh(ne);let fe,ft;try{let ve=this.componentDef,pt,ci=null;ve.findHostDirectiveDefs?(pt=[],ci=new Map,ve.findHostDirectiveDefs(ve,pt,ci),pt.push(ve)):pt=[ve];let lr=mM(ne,_),ui=yM(lr,_,ve,pt,ne,h,p);ft=jh(oe,qt),_&&IM(p,ve,_,r),n!==void 0&&wM(ft,this.ngContentSelectors,n),fe=_M(ui,ve,pt,ci,ne,[EM]),lf(oe,ne,null)}finally{zh()}return new yh(this.componentType,fe,Ui(ft,ne),ne,ft)}finally{Q(s)}}},yh=class extends hh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;uf(s[O],s,i,e,n),this.previousInputValues.set(e,n);let o=jn(this._tNode.index,s);df(o)}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mM(t,e){let n=t[O],r=qt;return t[r]=e,qc(n,r,2,"#host",null)}function yM(t,e,n,r,i,s,o){let a=i[O];vM(r,t,e,o);let c=null;e!==null&&(c=ef(e,i[Oi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Hc(i,WI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&oh(a,t,r.length-1),zc(i,d),i[t.index]=d}function vM(t,e,n,r){for(let i of t)e.mergedAttrs=$s(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gh(e,e.mergedAttrs,!0),n!==null&&UI(r,n,e))}function _M(t,e,n,r,i,s){let o=qe(),a=i[O],c=It(o,i);QI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Dr(i,a,d,o);Cr(h,i)}YI(a,i,o),c&&Cr(c,i);let u=Dr(i,a,o.directiveStart+o.componentOffset,o);if(t[xt]=i[xt]=u,s!==null)for(let l of s)l(u,e);return qI(a,o,i),u}function IM(t,e,n,r){if(r)zd(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=_S(e.selectors[0]);i&&zd(t,n,i),s&&s.length>0&&VI(t,n,s.join(" "))}}function wM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function EM(){let t=qe();Kh(ie()[O],t)}var Bi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DM;let t=e;return t})();function DM(){let t=qe();return hw(t,ie())}var CM=Bi,dw=class extends CM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qh(this._hostTNode,this._hostLView);if(lI(e)){let n=Ec(e,this._hostLView),r=wc(e),i=n[O].data[r+8];return new yr(i,n)}else return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=h_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=lh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ch(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!OS(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new Ys(vr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(yt,null);_&&(s=_)}let l=vr(c.componentType??{}),d=lh(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,ch(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xe],u=new dw(c,c[kt],c[xe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return rw(o,i,s,r),e.attachToViewContainerRef(),b_(Fd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=h_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tc(this._lContainer,n);r&&(mc(Fd(this._lContainer),n),rf(r[O],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tc(this._lContainer,n);return r&&mc(Fd(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function h_(t){return t[_c]}function Fd(t){return t[_c]||(t[_c]=[])}function hw(t,e){let n,r=e[t.index];return fn(r)?n=r:(n=JI(r,e,null,t),e[t.index]=n,zc(e,n)),bM(n,e,t,r),new dw(n,t,e)}function TM(t,e){let n=t[Ce],r=n.createComment(""),i=It(e,t),s=sf(n,i);return bc(n,s,r,sR(n,i),!1),r}var bM=RM,SM=()=>!1;function AM(t,e,n){return SM(t,e,n)}function RM(t,e,n,r){if(t[Ir])return;let i;n.type&8?i=zt(r):i=TM(e,n),t[Ir]=i}var vh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_h=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)gf(e,n).matches!==null&&this.queries[n].setDirty()}},Ih=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=LM(e):this.predicate=e}},wh=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Eh=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,MM(n,s)),this.matchTNodeWithReadOption(e,n,dc(n,e,s,!1,!1))}else r===Ks?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,dc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Et||i===Bi||i===Ks&&n.type&4)this.addMatch(n.index,-2);else{let s=dc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function MM(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function NM(t,e){return t.type&11?Ui(t,e):t.type&4?hf(t,e):null}function xM(t,e,n,r){return n===-1?NM(e,t):n===-2?PM(t,e,r):Dr(t,t[O],n,e)}function PM(t,e,n){if(n===Et)return Ui(e,t);if(n===Ks)return hf(e,t);if(n===Bi)return hw(e,t)}function fw(t,e,n,r){let i=e[cn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(xM(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Dh(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=fw(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=Je;d<l.length;d++){let h=l[d];h[no]===h[xe]&&Dh(h[O],h,u,r)}if(l[ki]!==null){let d=l[ki];for(let h=0;h<d.length;h++){let p=d[h];Dh(p[O],p,u,r)}}}}}return r}function OM(t,e){return t[cn].queries[e].queryList}function kM(t,e,n){let r=new rh((n&4)===4);return IR(t,e,r,r.destroy),(e[cn]??=new _h).queries.push(new vh(r))-1}function FM(t,e,n,r){let i=et();if(i.firstCreatePass){let s=qe();VM(i,new Ih(e,n,r),s.index),UM(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return kM(i,ie(),n)}function LM(t){return t.split(",").map(e=>e.trim())}function VM(t,e,n){t.queries===null&&(t.queries=new wh),t.queries.track(new Eh(e,n))}function UM(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function gf(t,e){return t.queries.getByIndex(e)}function jM(t,e){let n=t[O],r=gf(n,e);return r.crossesNgTemplate?Dh(n,t,e,[]):fw(n,t,r,e)}function BM(t){return typeof t=="function"&&t[rd]!==void 0}function pw(t){return BM(t)&&typeof t.set=="function"}function $M(t){return Object.getPrototypeOf(t.prototype).constructor}function $i(t){let e=$M(t.type),n=!0,r=[t];for(;e;){let i;if(Fn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=oc(t.inputs),o.inputTransforms=oc(t.inputTransforms),o.declaredInputs=oc(t.declaredInputs),o.outputs=oc(t.outputs);let a=i.hostBindings;a&&WM(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&zM(t,c),u&&GM(t,u),HM(t,i),L0(t.outputs,i.outputs),Fn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===$i&&(n=!1)}}e=Object.getPrototypeOf(e)}qM(r)}function HM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function qM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$s(i.hostAttrs,n=$s(n,i.hostAttrs))}}function oc(t){return t===Ni?{}:t===mt?[]:t}function zM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function GM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function WM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ln=class{},Js=class{};var Ch=class extends Ln{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rc(this);let i=k_(e);this._bootstrapComponents=xI(i.bootstrap),this._r3Injector=_I(e,n,[{provide:Ln,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver},...r],Ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Th=class extends Js{constructor(e){super(),this.moduleType=e}create(e){return new Ch(this.moduleType,e,[])}};var Mc=class extends Ln{constructor(e){super(),this.componentFactoryResolver=new Rc(this),this.instance=null;let n=new Hs([...e.providers,{provide:Ln,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],e.parent||Lh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yf(t,e,n=null){return new Mc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function KM(t){return(t.flags&32)===32}function QM(t,e,n,r,i,s,o,a,c){let u=e.consts,l=qc(e,t,4,o||null,Ic(u,a));KI(e,n,l,Ic(u,c)),Kh(e,l);let d=l.tView=cf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Ar(t,e,n,r,i,s,o,a){let c=ie(),u=et(),l=t+qt,d=u.firstCreatePass?QM(l,u,c,e,n,r,i,s,o):u.data[l];ro(d,!1);let h=YM(u,c,d,t);Gh()&&of(u,c,h,d),Cr(h,c);let p=JI(h,c,h,d);return c[l]=p,zc(c,p),AM(p,d,c),Uh(d)&&zI(u,c,d),o!=null&&GI(c,d,a),Ar}var YM=JM;function JM(t,e,n,r){return Wh(!0),e[Ce].createComment("")}function Kc(t,e,n,r){let i=ie(),s=jc();if(oo(i,s,e)){let o=et(),a=aI();FR(a,i,t,e,n,r)}return Kc}function ZM(t,e,n,r){return oo(t,jc(),n)?e+Oc(n)+r:ji}function ac(t,e){return t<<17|e<<2}function br(t){return t>>17&32767}function XM(t){return(t&2)==2}function eN(t,e){return t&131071|e<<17}function bh(t){return t|2}function Fi(t){return(t&131068)>>2}function Ld(t,e){return t&-131069|e<<2}function tN(t){return(t&1)===1}function Sh(t){return t|1}function nN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=br(o),c=Fi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||to(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=br(t[a+1]);t[r+1]=ac(h,a),h!==0&&(t[h+1]=Ld(t[h+1],r)),t[a+1]=eN(t[a+1],r)}else t[r+1]=ac(a,0),a!==0&&(t[a+1]=Ld(t[a+1],r)),a=r;else t[r+1]=ac(c,0),a===0?a=r:t[c+1]=Ld(t[c+1],r),c=r;u&&(t[r+1]=bh(t[r+1])),f_(t,l,r,!0),f_(t,l,r,!1),rN(e,l,t,r,s),o=ac(a,c),s?e.classBindings=o:e.styleBindings=o}function rN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&to(s,e)>=0&&(n[r+1]=Sh(n[r+1]))}function f_(t,e,n,r){let i=t[n+1],s=e===null,o=r?br(i):Fi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];iN(c,e)&&(a=!0,t[o+1]=r?Sh(u):bh(u)),o=r?br(u):Fi(u)}a&&(t[n+1]=r?bh(i):Sh(i))}function iN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?to(t,e)>=0:!1}function p_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";uf(t,n,s[o],o,r)}function vf(t,e){return sN(t,e,null,!0),vf}function sN(t,e,n,r){let i=ie(),s=et(),o=rA(2);if(s.firstUpdatePass&&aN(s,t,o,r),e!==ji&&oo(i,o,e)){let a=s.data[Vi()];hN(s,a,i,i[Ce],t,i[o+1]=fN(e,n),r,o)}}function oN(t,e){return e>=t.expandoStartIndex}function aN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Vi()],o=oN(t,n);pN(s,r)&&e===null&&!o&&(e=!1),e=cN(i,s,e,r),nN(i,s,e,n,o,r)}}function cN(t,e,n,r){let i=aA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vd(null,t,e,n,r),n=Zs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Vd(i,t,e,n,r),s===null){let c=uN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Vd(null,t,e,c[1],r),c=Zs(c,e.attrs,r),lN(t,e,r,c))}else s=dN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function uN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fi(r)!==0)return t[br(r)]}function lN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[br(i)]=r}function dN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Zs(r,o,n)}return Zs(r,e.attrs,n)}function Vd(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Zs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Zs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),oS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function hN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=tN(u)?g_(c,e,n,i,Fi(u),o):void 0;if(!Nc(l)){Nc(s)||XM(u)&&(s=g_(c,null,n,i,a,o));let d=Q_(Vi(),n);hR(r,o,d,i,s)}}function g_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===ji&&(h=d?mt:void 0);let p=d?Sd(h,r):l===r?h:void 0;if(u&&!Nc(p)&&(p=Sd(c,r)),Nc(p)&&(a=p,o))return a;let m=t[i+1];i=o?br(m):Fi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Sd(c,r))}return a}function Nc(t){return t!==void 0}function fN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ye(so(t)))),t}function pN(t,e){return(t.flags&(e?8:16))!==0}function Hi(t,e,n){ff("NgControlFlow");let r=ie(),i=jc(),s=gN(r,qt+t),o=0;if(oo(r,i,e)){let a=Q(null);try{if(zR(s,o),e!==-1){let c=mN(r[O],qt+e),u=lh(s,c.tView.ssrId),l=nw(r,c,n,{dehydratedView:u});rw(s,l,o,ch(c,u))}}finally{Q(a)}}else{let a=qR(s,o);a!==void 0&&(a[xt]=n)}}function gN(t,e){return t[e]}function mN(t,e){return jh(t,e)}function yN(t,e,n,r,i,s){let o=e.consts,a=Ic(o,i),c=qc(e,t,2,r,a);return KI(e,n,c,Ic(o,s)),c.attrs!==null&&gh(c,c.attrs,!1),c.mergedAttrs!==null&&gh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function F(t,e,n,r){let i=ie(),s=et(),o=qt+t,a=i[Ce],c=s.firstCreatePass?yN(o,s,i,e,n,r):s.data[o],u=vN(s,i,c,a,e,t);i[o]=u;let l=Uh(c);return ro(c,!0),UI(a,u,c),!KM(c)&&Gh()&&of(s,i,u,c),KS()===0&&Cr(u,i),QS(),l&&(zI(s,i,c),qI(s,c,i)),r!==null&&GI(i,c),F}function L(){let t=qe();eI()?tA():(t=t.parent,ro(t,!1));let e=t;ZS(e)&&XS(),YS();let n=et();return n.firstCreatePass&&(Kh(n,t),q_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pA(e)&&p_(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gA(e)&&p_(n,e,ie(),e.stylesWithoutHost,!1),L}function ze(t,e,n,r){return F(t,e,n,r),L(),ze}var vN=(t,e,n,r,i,s)=>(Wh(!0),PI(r,i,lA()));var xc="en-US";var _N=xc;function IN(t){typeof t=="string"&&(_N=t.toLowerCase().replace(/_/g,"-"))}function pn(t,e,n,r){let i=ie(),s=et(),o=qe();return gw(s,i,i[Ce],o,t,e,r),pn}function wN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[qs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function gw(t,e,n,r,i,s,o){let a=Uh(r),u=t.firstCreatePass&&ew(t),l=e[xt],d=XI(e),h=!0;if(r.type&3||o){let _=It(r,e),D=o?o(_):_,C=d.length,oe=o?fe=>o(zt(fe[r.index])):r.index,ne=null;if(!o&&a&&(ne=wN(t,e,i,r.index)),ne!==null){let fe=ne.__ngLastListenerFn__||ne;fe.__ngNextListenerFn__=s,ne.__ngLastListenerFn__=s,h=!1}else{s=y_(r,e,l,s,!1);let fe=n.listen(D,i,s);d.push(s,fe),u&&u.push(i,oe,C,C+1)}}else s=y_(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let _=m.length;if(_)for(let D=0;D<_;D+=2){let C=m[D],oe=m[D+1],ft=e[C][oe].subscribe(s),ve=d.length;d.push(s,ft),u&&u.push(i,r.index,ve,-(ve+1))}}}function m_(t,e,n,r){let i=Q(null);try{return jt(6,e,n),n(r)!==!1}catch(s){return tw(t,s),!1}finally{jt(7,e,n),Q(i)}}function y_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?jn(t.index,e):e;df(a);let c=m_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=m_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function qi(t=1){return uA(t)}function mw(t,e,n,r){FM(t,e,n,r)}function yw(t){let e=ie(),n=et(),r=tI();Hh(r+1);let i=gf(n,r);if(t.dirty&&HS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=jM(e,r);t.reset(s,AA),t.notifyOnChanges()}return!0}return!1}function vw(){return OM(ie(),tI())}function J(t,e=""){let n=ie(),r=et(),i=t+qt,s=r.firstCreatePass?qc(r,i,1,e,null):r.data[i],o=EN(r,n,s,e,t);n[i]=o,Gh()&&of(r,n,o,s),ro(s,!1)}var EN=(t,e,n,r,i)=>(Wh(!0),WA(e[Ce],r));function ao(t){return zi("",t,""),ao}function zi(t,e,n){let r=ie(),i=ZM(r,t,e,n);return i!==ji&&jR(r,Vi(),i),zi}function Rr(t,e,n){pw(e)&&(e=e());let r=ie(),i=jc();if(oo(r,i,e)){let s=et(),o=aI();CR(s,o,r,t,e,r[Ce],n,!1)}return Rr}function Gi(t,e){let n=pw(t);return n&&t.set(e),n}function Mr(t,e){let n=ie(),r=et(),i=qe();return gw(r,n,n[Ce],i,t,e),Mr}function DN(t,e,n){let r=et();if(r.firstCreatePass){let i=Fn(t);Ah(n,r.data,r.blueprint,i,!0),Ah(e,r.data,r.blueprint,i,!1)}}function Ah(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ah(t[s],e,n,r,i);else{let s=et(),o=ie(),a=qe(),c=Pi(t)?t:$e(t.provide),u=B_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Pi(t)||!t.multi){let p=new Er(u,i,Y),m=jd(c,e,i?l:l+h,d);m===-1?(Xd(Dc(a,o),s,c),Ud(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=jd(c,e,l+h,d),m=jd(c,e,l,l+h),_=p>=0&&n[p],D=m>=0&&n[m];if(i&&!D||!i&&!_){Xd(Dc(a,o),s,c);let C=bN(i?TN:CN,n.length,i,r,u);!i&&D&&(n[m].providerFactory=C),Ud(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=_w(n[i?m:p],u,!i&&r);Ud(s,t,p>-1?p:m,C)}!i&&r&&D&&n[m].componentProviders++}}}function Ud(t,e,n,r){let i=Pi(e),s=bS(e);if(i||s){let c=(s?$e(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function _w(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function CN(t,e,n,r){return Rh(this.multi,[])}function TN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Dr(n,n[O],this.providerFactory.index,r);s=a.slice(0,o),Rh(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Rh(i,s);return s}function Rh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bN(t,e,n,r,i){let s=new Er(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,_w(s,i,r&&!n),s}function _f(t,e=[]){return n=>{n.providersResolver=(r,i)=>DN(r,i?i(t):t,e)}}var SN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=V_(!1,r.type),s=i.length>0?yf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(U(yt))});let t=e;return t})();function nt(t){ff("NgStandalone"),t.getStandaloneInjector=e=>e.get(SN).getOrCreateStandaloneInjector(t)}var dn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Iw=new dn("17.3.5"),Qc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ww=new R("");function Nr(t){return!!t&&typeof t.then=="function"}function Ew(t){return!!t&&typeof t.subscribe=="function"}var Dw=new R(""),Cw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(Dw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Nr(o))r.push(o);else if(Ew(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),If=new R("");function AN(){fv(()=>{throw new b(600,!1)})}function RN(t){return t.isBoundToModule}function MN(t,e,n){try{let r=n();return Nr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var co=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(II),this.afterRenderEffectManager=w(lw),this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=w(Wc).hasPendingTasks.pipe($(r=>!r)),this._injector=w(yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ac;if(!this._injector.get(Cw).done){let p=!s&&O_(r),m=!1;throw new b(405,m)}let a;s?a=r:a=this._injector.get(Gc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=RN(a)?void 0:this._injector.get(Ln),u=i||a.selector,l=a.create(wt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(ww,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Bd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Q(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===sw)throw new b(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)NN(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Mh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Mh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Bd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(If,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Bd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NN(t,e,n){!e&&!Mh(t)||xN(t,n,e)}function Mh(t){return $h(t)}function xN(t,e,n){let r;n?(r=0,t[S]|=1024):t[S]&64?r=0:r=1,ow(t,e,r)}var Nh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wf=(()=>{let e=class e{compileModuleSync(r){return new Th(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=k_(r),o=xI(s.declarations).reduce((a,c)=>{let u=vr(c);return u&&a.push(new Ys(u)),a},[]);return new Nh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PN=(()=>{let e=class e{constructor(){this.zone=w(te),this.applicationRef=w(co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ON(t){return[{provide:te,useFactory:t},{provide:xi,multi:!0,useFactory:()=>{let e=w(PN,{optional:!0});return()=>e.initialize()}},{provide:xi,multi:!0,useFactory:()=>{let e=w(VN);return()=>{e.initialize()}}},{provide:II,useFactory:kN}]}function kN(){let t=w(te),e=w(un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FN(t){let e=ON(()=>new te(LN(t)));return Fc([[],e])}function LN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VN=(()=>{let e=class e{constructor(){this.subscription=new de,this.initialized=!1,this.zone=w(te),this.pendingTasks=w(Wc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UN(){return typeof $localize<"u"&&$localize.locale||xc}var Ef=new R("",{providedIn:"root",factory:()=>w(Ef,V.Optional|V.SkipSelf)||UN()});var Tw=new R("");var fc=null;function jN(t=[],e){return wt.create({name:e,providers:[{provide:Lc,useValue:"platform"},{provide:Tw,useValue:new Set([()=>fc=null])},...t]})}function BN(t=[]){if(fc)return fc;let e=jN(t);return fc=e,AN(),$N(e),e}function $N(t){t.get(Zh,null)?.forEach(n=>n())}var Hn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HN;let t=e;return t})();function HN(t){return qN(qe(),ie(),(t&16)===16)}function qN(t,e,n){if(Uc(t)&&!n){let r=jn(t.index,e);return new Tr(r,r)}else if(t.type&47){let r=e[Ht];return new Tr(r,e)}return null}function bw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BN(r),s=[FN(),...n||[]],a=new Mc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(un,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(Tw);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),MN(u,c,()=>{let p=a.get(Cw);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(Ef,xc);IN(m||xc);let _=a.get(co);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function xr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Rw=null;function gn(){return Rw}function Mw(t){Rw??=t}var Yc=class{};var Dt=new R(""),Nw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(zN),providedIn:"platform"});let t=e;return t})();var zN=(()=>{let e=class e extends Nw{constructor(){super(),this._doc=w(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function xw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Sw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var Wi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(Pw),providedIn:"root"});let t=e;return t})(),GN=new R(""),Pw=(()=>{let e=class e extends Wi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(Nw),U(GN,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uo=(()=>{let e=class e{constructor(r){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=QN(Sw(Aw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(KN(this._basePath,Aw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=xw,e.stripTrailingSlash=Sw,e.\u0275fac=function(i){return new(i||e)(U(Wi))},e.\u0275prov=x({token:e,factory:()=>WN(),providedIn:"root"});let t=e;return t})();function WN(){return new uo(U(Wi))}function KN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Aw(t){return t.replace(/\/index.html$/,"")}function QN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ow(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var kw="browser",YN="server";function Df(t){return t===YN}var Jc=class{};var bf=class extends Yc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class t extends bf{static makeCurrent(){Mw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZN();return n==null?null:XN(n)}resetBaseElement(){lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ow(document.cookie,e)}},lo=null;function ZN(){return lo=lo||document.querySelector("base"),lo?lo.getAttribute("href"):null}function XN(t){return new URL(t,document.baseURI).pathname}var ex=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Af=new R(""),Uw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(Af),U(te))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Zc=class{constructor(e){this._doc=e}},Cf="ng-app-id",jw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Df(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Cf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(Dt),U(Jh),U(Xh,8),U(Bn))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Tf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mf=/%COMP%/g,Bw="%COMP%",tx=`_nghost-${Bw}`,nx=`_ngcontent-${Bw}`,rx=!0,ix=new R("",{providedIn:"root",factory:()=>rx});function sx(t){return nx.replace(Mf,t)}function ox(t){return tx.replace(Mf,t)}function $w(t,e){return e.map(n=>n.replace(Mf,t))}var Fw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Df(c),this.defaultRenderer=new ho(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$t.ShadowDom&&(i=ee(I({},i),{encapsulation:$t.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Xc?s.applyToHost(r):s instanceof fo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case $t.Emulated:o=new Xc(u,l,i,this.appId,d,a,c,h);break;case $t.ShadowDom:return new Rf(u,l,r,i,a,c,this.nonce,h);default:o=new fo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(Uw),U(jw),U(Jh),U(ix),U(Dt),U(Bn),U(te),U(Xh))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),ho=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Lw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Lw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,i&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Lw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rf=class extends ho{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=$w(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fo=class extends ho{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?$w(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xc=class extends fo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=sx(u),this.hostAttr=ox(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ax=(()=>{let e=class e extends Zc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Vw=["alt","control","meta","shift"],cx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ux={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lx=(()=>{let e=class e extends Zc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Vw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=cx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Vw.forEach(a=>{if(a!==s){let c=ux[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function Hw(t,e){return bw(I({rootComponent:t},dx(e)))}function dx(t){return{appProviders:[...mx,...t?.providers??[]],platformProviders:gx}}function hx(){Sf.makeCurrent()}function fx(){return new un}function px(){return SI(document),document}var gx=[{provide:Bn,useValue:kw},{provide:Zh,useValue:hx,multi:!0},{provide:Dt,useFactory:px,deps:[]}];var mx=[{provide:Lc,useValue:"root"},{provide:un,useFactory:fx,deps:[]},{provide:Af,useClass:ax,multi:!0,deps:[Dt,te,Bn]},{provide:Af,useClass:lx,multi:!0,deps:[Dt]},Fw,jw,Uw,{provide:Qs,useExisting:Fw},{provide:Jc,useClass:ex,deps:[]},[]];var qw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(Dt))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k="primary",Ao=Symbol("RouteTitle"),kf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zi(t){return new kf(t)}function vx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _x(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gt(t[n],e[n]))return!1;return!0}function Gt(t,e){let n=t?Ff(t):void 0,r=e?Ff(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Yw(t[i],e[i]))return!1;return!0}function Ff(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Yw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Jw(t){return t.length>0?t[t.length-1]:null}function Gn(t){return Id(t)?t:Nr(t)?ue(Promise.resolve(t)):N(t)}var Ix={exact:Xw,subset:eE},Zw={exact:wx,subset:Ex,ignored:()=>!0};function zw(t,e,n){return Ix[n.paths](t.root,e.root,n.matrixParams)&&Zw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function wx(t,e){return Gt(t,e)}function Xw(t,e,n){if(!kr(t.segments,e.segments)||!nu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Xw(t.children[r],e.children[r],n))return!1;return!0}function Ex(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yw(t[n],e[n]))}function eE(t,e,n){return tE(t,e,e.segments,n)}function tE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!kr(i,n)||e.hasChildren()||!nu(i,n,r))}else if(t.segments.length===n.length){if(!kr(t.segments,n)||!nu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!eE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!kr(t.segments,i)||!nu(t.segments,i,r)||!t.children[k]?!1:tE(t.children[k],e,s,r)}}function nu(t,e,n){return e.every((r,i)=>Zw[n](t[i].parameters,r.parameters))}var qn=class{constructor(e=new Z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return Tx.serialize(this)}},Z=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}},Or=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return rE(this)}};function Dx(t,e){return kr(t,e)&&t.every((n,r)=>Gt(n.parameters,e[r].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Cx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>new su,providedIn:"root"});let t=e;return t})(),su=class{parse(e){let n=new Vf(e);return new qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${po(e.root,!0)}`,r=Ax(e.queryParams),i=typeof e.fragment=="string"?`#${bx(e.fragment)}`:"";return`${n}${r}${i}`}},Tx=new su;function ru(t){return t.segments.map(e=>rE(e)).join("/")}function po(t,e){if(!t.hasChildren())return ru(t);if(e){let n=t.children[k]?po(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==k&&r.push(`${i}:${po(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Cx(t,(r,i)=>i===k?[po(t.children[k],!1)]:[`${i}:${po(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${ru(t)}/${n[0]}`:`${ru(t)}/(${n.join("//")})`}}function nE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(t){return nE(t).replace(/%3B/gi,";")}function bx(t){return encodeURI(t)}function Lf(t){return nE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iu(t){return decodeURIComponent(t)}function Gw(t){return iu(t.replace(/\+/g,"%20"))}function rE(t){return`${Lf(t.path)}${Sx(t.parameters)}`}function Sx(t){return Object.entries(t).map(([e,n])=>`;${Lf(e)}=${Lf(n)}`).join("")}function Ax(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${eu(n)}=${eu(i)}`).join("&"):`${eu(n)}=${eu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Rx=/^[^\/()?;#]+/;function Nf(t){let e=t.match(Rx);return e?e[0]:""}var Mx=/^[^\/()?;=#]+/;function Nx(t){let e=t.match(Mx);return e?e[0]:""}var xx=/^[^=?&#]+/;function Px(t){let e=t.match(xx);return e?e[0]:""}var Ox=/^[^&#]+/;function kx(t){let e=t.match(Ox);return e?e[0]:""}var Vf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new Z(e,n)),r}parseSegment(){let e=Nf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Or(iu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Nx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Nf(this.remaining);i&&(r=i,this.capture(r))}e[iu(n)]=iu(r)}parseQueryParam(e){let n=Px(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=kx(this.remaining);o&&(r=o,this.capture(r))}let i=Gw(n),s=Gw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=k);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[k]:new Z([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function iE(t){return t.segments.length>0?new Z([],{[k]:t}):t}function sE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=sE(i);if(r===k&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Z(t.segments,e);return Fx(n)}function Fx(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new Z(t.segments.concat(e.segments),e.children)}return t}function Xi(t){return t instanceof qn}function Lx(t,e,n=null,r=null){let i=oE(t);return aE(i,e,n,r)}function oE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Z(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=iE(r);return e??i}function aE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xf(i,i,i,n,r);let s=Vx(e);if(s.toRoot())return xf(i,i,new Z([],{}),n,r);let o=Ux(s,i,t),a=o.processChildren?yo(o.segmentGroup,o.index,s.commands):uE(o.segmentGroup,o.index,s.commands);return xf(i,o.segmentGroup,a,n,r)}function ou(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Io(t){return typeof t=="object"&&t!=null&&t.outlets}function xf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=cE(t,e,n);let a=iE(sE(o));return new qn(a,s,i)}function cE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=cE(s,e,n)}),new Z(t.segments,r)}var au=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ou(r[0]))throw new b(4003,!1);let i=r.find(Io);if(i&&i!==Jw(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new au(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new au(n,e,r)}var Yi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Ux(t,e,n){if(t.isAbsolute)return new Yi(e,!0,0);if(!n)return new Yi(e,!1,NaN);if(n.parent===null)return new Yi(n,!0,0);let r=ou(t.commands[0])?0:1,i=n.segments.length-1+r;return jx(n,i,t.numberOfDoubleDots)}function jx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Yi(r,!1,i-s)}function Bx(t){return Io(t[0])?t[0].outlets:{[k]:t}}function uE(t,e,n){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return yo(t,e,n);let r=$x(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Z(t.segments.slice(0,r.pathIndex),{});return s.children[k]=new Z(t.segments.slice(r.pathIndex),t.children),yo(s,0,i)}else return r.match&&i.length===0?new Z(t.segments,{}):r.match&&!t.hasChildren()?Uf(t,e,n):r.match?yo(t,0,i):Uf(t,e,n)}function yo(t,e,n){if(n.length===0)return new Z(t.segments,{});{let r=Bx(n),i={};if(Object.keys(r).some(s=>s!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let s=yo(t.children[k],e,n);return new Z(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=uE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Z(t.segments,i)}}function $x(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Io(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Kw(c,u,o))return s;r+=2}else{if(!Kw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Io(s)){let c=Hx(s.outlets);return new Z(r,c)}if(i===0&&ou(n[0])){let c=t.segments[e];r.push(new Or(c.path,Ww(n[0]))),i++;continue}let o=Io(s)?s.outlets[k]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ou(a)?(r.push(new Or(o,Ww(a))),i+=2):(r.push(new Or(o,{})),i++)}return new Z(r,{})}function Hx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Uf(new Z([],{}),0,r))}),e}function Ww(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Kw(t,e,n){return t==n.path&&Gt(e,n.parameters)}var vo="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},wo=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ct||{}),jf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(jf||{}),zn=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},Eo=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cu=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kf=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Do=class{},Co=class{constructor(e){this.url=e}};var Jf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pu,this.attachRef=null}},pu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xf(e,this._root).map(n=>n.value)}};function Zf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zf(t,n);if(r)return r}return null}function Xf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xf(t,n);if(r.length)return r.unshift(e),r}return[]}var at=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var lu=class extends uu{constructor(e,n){super(e),this.snapshot=n,lp(this,e)}toString(){return this.snapshot.toString()}};function lE(t){let e=qx(t),n=new Me([new Or("",{})]),r=new Me({}),i=new Me({}),s=new Me({}),o=new Me(""),a=new Lr(n,r,s,o,i,k,t,e.root);return a.snapshot=e.root,new lu(new at(a,[]),e)}function qx(t){let e={},n={},r={},i="",s=new To([],e,r,i,n,k,t,null,{});return new du("",new at(s,[]))}var Lr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[Ao]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>Zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>Zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function up(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&hE(i)&&(r.resolve[Ao]=i.title),r}var To=class{get title(){return this.data?.[Ao]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},du=class extends uu{constructor(e,n){super(n),this.url=e,lp(this,n)}toString(){return dE(this._root)}};function lp(t,e){e.value._routerState=t,e.children.forEach(n=>lp(t,n))}function dE(t){let e=t.children.length>0?` { ${t.children.map(dE).join(", ")} } `:"";return`${t.value}${e}`}function Pf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Gt(e.params,n.params)||t.paramsSubject.next(n.params),_x(e.url,n.url)||t.urlSubject.next(n.url),Gt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ep(t,e){let n=Gt(t.params,e.params)&&Dx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ep(t.parent,e.parent))}function hE(t){return typeof t.title=="string"||t.title===null}var dp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=w(pu),this.location=w(Bi),this.changeDetector=w(Hn),this.environmentInjector=w(yt),this.inputBinder=w(hp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new tp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]});let t=e;return t})(),tp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Lr?this.route:e===pu?this.childContexts:this.parent.get(e,n)}},hp=new R("");function zx(t,e,n){let r=bo(t,e._root,n?n._root:void 0);return new lu(r,e)}function bo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Gx(t,e,n);return new at(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>bo(t,a)),o}}let r=Wx(e.value),i=e.children.map(s=>bo(t,s));return new at(r,i)}}function Gx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bo(t,r,i);return bo(t,r)})}function Wx(t){return new Lr(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var fE="ngNavigationCancelingError";function pE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Xi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gE(!1,ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fE]=!0,n.cancellationCode=e,n}function Kx(t){return mE(t)&&Xi(t.url)}function mE(t){return!!t&&t[fE]}var Qx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[nt],decls:1,vars:0,template:function(i,s){i&1&&ze(0,"router-outlet")},dependencies:[dp],encapsulation:2});let t=e;return t})();function Yx(t,e){return t.providers&&!t._injector&&(t._injector=yf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fp(t){let e=t.children&&t.children.map(fp),n=e?ee(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=Qx),n}function Wt(t){return t.outlet||k}function Jx(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Ro(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Zx=(t,e,n,r)=>$(i=>(new np(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),np=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Qi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Qi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ro(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},hu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ji=class{constructor(e,n){this.component=e,this.route=n}};function Xx(t,e,n){let r=t._root,i=e?e._root:null;return go(r,i,n,[r.value])}function eP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ns(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!I_(t)?t:e.get(t):r}function go(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qi(e);return t.children.forEach(o=>{tP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_o(a,n.getContext(o),i)),i}function tP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=nP(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new hu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?go(t,e,a?a.children:null,r,i):go(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ji(a.outlet.component,o))}else o&&_o(e,a,i),i.canActivateChecks.push(new hu(r)),s.component?go(t,null,a?a.children:null,r,i):go(t,null,n,r,i);return i}function nP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!Gt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(t,e)||!Gt(t.queryParams,e.queryParams);case"paramsChange":default:return!ep(t,e)}}function _o(t,e,n){let r=Qi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?_o(o,e.children.getContext(s),n):_o(o,null,n):_o(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ji(e.outlet.component,i)):n.canDeactivateChecks.push(new Ji(null,i)):n.canDeactivateChecks.push(new Ji(null,i))}function Mo(t){return typeof t=="function"}function rP(t){return typeof t=="boolean"}function iP(t){return t&&Mo(t.canLoad)}function sP(t){return t&&Mo(t.canActivate)}function oP(t){return t&&Mo(t.canActivateChild)}function aP(t){return t&&Mo(t.canDeactivate)}function cP(t){return t&&Mo(t.canMatch)}function yE(t){return t instanceof on||t?.name==="EmptyError"}var tu=Symbol("INITIAL_VALUE");function es(){return Rt(t=>tc(t.map(e=>e.pipe(an(1),Td(tu)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===tu)return tu;if(n===!1||n instanceof qn)return n}return!0}),At(e=>e!==tu),an(1)))}function uP(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(ee(I({},n),{guardsResult:!0})):lP(o,r,i,t).pipe(_e(a=>a&&rP(a)?dP(r,s,t,e):N(a)),$(a=>ee(I({},n),{guardsResult:a})))})}function lP(t,e,n,r){return ue(t).pipe(_e(i=>mP(i.component,i.route,n,e,r)),Ut(i=>i!==!0,!0))}function dP(t,e,n,r){return ue(e).pipe(Di(i=>Ei(fP(i.route.parent,r),hP(i.route,r),gP(t,i.path,n),pP(t,i.route,n))),Ut(i=>i!==!0,!0))}function hP(t,e){return t!==null&&e&&e(new Qf(t)),N(!0)}function fP(t,e){return t!==null&&e&&e(new Wf(t)),N(!0)}function pP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>nc(()=>{let o=Ro(e)??n,a=ns(s,o),c=sP(a)?a.canActivate(e,t):Sr(o,()=>a(e,t));return Gn(c).pipe(Ut())}));return N(i).pipe(es())}function gP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>eP(o)).filter(o=>o!==null).map(o=>nc(()=>{let a=o.guards.map(c=>{let u=Ro(o.node)??n,l=ns(c,u),d=oP(l)?l.canActivateChild(r,t):Sr(u,()=>l(r,t));return Gn(d).pipe(Ut())});return N(a).pipe(es())}));return N(s).pipe(es())}function mP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Ro(e)??i,u=ns(a,c),l=aP(u)?u.canDeactivate(t,e,n,r):Sr(c,()=>u(t,e,n,r));return Gn(l).pipe(Ut())});return N(o).pipe(es())}function yP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=ns(o,t),c=iP(a)?a.canLoad(e,n):Sr(t,()=>a(e,n));return Gn(c)});return N(s).pipe(es(),vE(r))}function vE(t){return hd(Ie(e=>{if(Xi(e))throw pE(t,e)}),$(e=>e===!0))}function vP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=ns(o,t),c=cP(a)?a.canMatch(e,n):Sr(t,()=>a(e,n));return Gn(c)});return N(s).pipe(es(),vE(r))}var So=class{constructor(e){this.segmentGroup=e||null}},fu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ki(t){return Ii(new So(t))}function _P(t){return Ii(new b(4e3,!1))}function IP(t){return Ii(gE(!1,ct.GuardRejected))}var rp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[k])return _P(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new fu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new qn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Z(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ip={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wP(t,e,n,r,i){let s=pp(t,e,n);return s.matched?(r=Yx(e,r),vP(r,e,n,i).pipe($(o=>o===!0?s:I({},ip)))):N(s)}function pp(t,e,n){if(e.path==="**")return EP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},ip):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vx)(n,t,e);if(!i)return I({},ip);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function EP(t){return{matched:!0,parameters:t.length>0?Jw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qw(t,e,n,r){return n.length>0&&TP(t,n,r)?{segmentGroup:new Z(e,CP(r,new Z(n,t.children))),slicedSegments:[]}:n.length===0&&bP(t,n,r)?{segmentGroup:new Z(t.segments,DP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:n}}function DP(t,e,n,r){let i={};for(let s of n)if(gu(t,e,s)&&!r[Wt(s)]){let o=new Z([],{});i[Wt(s)]=o}return I(I({},r),i)}function CP(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&Wt(r)!==k){let i=new Z([],{});n[Wt(r)]=i}return n}function TP(t,e,n){return n.some(r=>gu(t,e,r)&&Wt(r)!==k)}function bP(t,e,n){return n.some(r=>gu(t,e,r))}function gu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SP(t,e,n,r){return Wt(t)!==r&&(r===k||!gu(e,n,t))?!1:pp(e,t,n).matched}function AP(t,e,n){return e.length===0&&!t.children[n]}var sp=class{};function RP(t,e,n,r,i,s,o="emptyOnly"){return new op(t,e,n,r,i,o,s).recognize()}var MP=31,op=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=Qw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new To([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new at(r,n),s=new du("",i),o=Lx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(xn(r=>{if(r instanceof fu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof So?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=up(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof at?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ue(i).pipe(Di(s=>{let o=r.children[s],a=Jx(n,s);return this.processSegmentGroup(e,a,o,s)}),Cd((s,o)=>(s.push(...o),s)),Pn(null),Dd(),_e(s=>{if(s===null)return Ki(r);let o=_E(s);return NP(o),N(o)}))}processSegment(e,n,r,i,s,o){return ue(n).pipe(Di(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xn(c=>{if(c instanceof So)return N(null);throw c}))),Ut(a=>!!a),xn(a=>{if(yE(a))return AP(r,i,s)?N(new sp):Ki(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return SP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ki(i):Ki(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=pp(n,i,s);if(!a)return Ki(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=wP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new To(l,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,PP(r),Wt(r),r.component??r._loadedComponent??null,r,OP(r)),{segmentGroup:m,slicedSegments:_}=Qw(n,l,d,c);if(_.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe($(C=>C===null?null:new at(p,C)));if(c.length===0&&_.length===0)return N(new at(p,[]));let D=Wt(r)===s;return this.processSegment(u,c,m,_,D?k:s,!0).pipe($(C=>new at(p,C instanceof at?[C]:[])))}))):Ki(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):yP(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):IP(n))):N({routes:[],injector:e})}};function NP(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function xP(t){let e=t.value.routeConfig;return e&&e.path===""}function _E(t){let e=[],n=new Set;for(let r of t){if(!xP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_E(r.children);e.push(new at(r.value,i))}return e.filter(r=>!n.has(r))}function PP(t){return t.data||{}}function OP(t){return t.resolve||{}}function kP(t,e,n,r,i,s){return _e(o=>RP(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>ee(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function FP(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of IE(c))o.add(u);let a=0;return ue(o).pipe(Di(c=>s.has(c)?LP(c,r,t,e):(c.data=up(c,c.parent,t).resolve,N(void 0))),Ie(()=>a++),Ci(1),_e(c=>a===o.size?N(n):ot))})}function IE(t){let e=t.children.map(n=>IE(n)).flat();return[t,...e]}function LP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!hE(i)&&(s[Ao]=i.title),VP(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=up(t,t.parent,n).resolve,null)))}function VP(t,e,n,r){let i=Ff(t);if(i.length===0)return N({});let s={};return ue(i).pipe(_e(o=>UP(t[o],e,n,r).pipe(Ut(),Ie(a=>{s[o]=a}))),Ci(1),Ed(s),xn(o=>yE(o)?ot:Ii(o)))}function UP(t,e,n,r){let i=Ro(e)??r,s=ns(t,i),o=s.resolve?s.resolve(e,n):Sr(i,()=>s(e,n));return Gn(o)}function Of(t){return Rt(e=>{let n=t(e);return n?ue(n).pipe($(()=>e)):N(e)})}var wE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[Ao]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(jP),providedIn:"root"});let t=e;return t})(),jP=(()=>{let e=class e extends wE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(qw))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gp=new R("",{providedIn:"root",factory:()=>({})}),mp=new R(""),BP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(wf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Gn(r.loadComponent()).pipe($(EE),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Us(()=>{this.componentLoaders.delete(r)})),s=new mi(i,()=>new Fe).pipe(gi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=$P(i,this.compiler,r,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(i)})),a=new mi(o,()=>new Fe).pipe(gi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $P(t,e,n,r){return Gn(t.loadChildren()).pipe($(EE),_e(i=>i instanceof Js||Array.isArray(i)?N(i):ue(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(mp,[],{optional:!0,self:!0}).flat()),{routes:o.map(fp),injector:s}}))}function HP(t){return t&&typeof t=="object"&&"default"in t}function EE(t){return HP(t)?t.default:t}var yp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(qP),providedIn:"root"});let t=e;return t})(),qP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zP=new R("");var GP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=w(BP),this.environmentInjector=w(yt),this.urlSerializer=w(cp),this.rootContexts=w(pu),this.location=w(uo),this.inputBindingEnabled=w(hp,{optional:!0})!==null,this.titleStrategy=w(wE),this.options=w(gp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(yp),this.createViewTransition=w(zP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zf(s)),i=s=>this.events.next(new Gf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),$(o=>ee(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rt(o=>{let a=!1,c=!1;return N(o).pipe(Rt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),ot;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ee(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.rawUrl),h,jf.IgnoredSameUrlNavigation)),u.resolve(null),ot}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(Rt(h=>{let p=this.transitions?.getValue();return this.events.next(new wo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?ot:Promise.resolve(h)}),kP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new cu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:_,extras:D}=u,C=new wo(h,this.urlSerializer.serialize(p),m,_);this.events.next(C);let oe=lE(this.rootComponentType).snapshot;return this.currentTransition=o=ee(I({},u),{targetSnapshot:oe,urlAfterRedirects:p,extras:ee(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(o)}else{let h="";return this.events.next(new Fr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,jf.IgnoredByUrlHandlingStrategy)),u.resolve(null),ot}}),Ie(u=>{let l=new Bf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=ee(I({},u),{guards:Xx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),uP(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,Xi(u.guardsResult))throw pE(this.urlSerializer,u.guardsResult);let l=new $f(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),At(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ct.GuardRejected),!1)),Of(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(Ie(l=>{let d=new Hf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Rt(l=>{let d=!1;return N(l).pipe(FP(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ct.NoDataFromResolver)}}))}),Ie(l=>{let d=new qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Of(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(p=>{d.component=p}),$(()=>{})));for(let p of d.children)h.push(...l(p));return h};return tc(l(u.targetSnapshot.root)).pipe(Pn(null),an(1))}),Of(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ue(d).pipe($(()=>o)):N(o)}),$(u=>{let l=zx(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ee(I({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new Do)}),Zx(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),an(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),bd(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),Us(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(u=>{if(c=!0,mE(u))this.events.next(new zn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Kx(u)?this.events.next(new Co(u.url)):o.resolve(!1);else{this.events.next(new Eo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ot}))}))}cancelNavigationTransition(r,i,s){let o=new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WP(t){return t!==vo}var KP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(QP),providedIn:"root"});let t=e;return t})(),ap=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QP=(()=>{let e=class e extends ap{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=io(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>w(YP),providedIn:"root"});let t=e;return t})(),YP=(()=>{let e=class e extends DE{constructor(){super(...arguments),this.location=w(uo),this.urlSerializer=w(cp),this.options=w(gp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(yp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof wo)this.stateMemento=this.createStateMemento();else if(r instanceof Fr)this.rawUrlTree=i.initialUrl;else if(r instanceof cu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Do?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof zn&&(r.code===ct.GuardRejected||r.code===ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof Eo?this.restoreHistory(i,!0):r instanceof mn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=io(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(mo||{});function JP(t,e){t.events.pipe(At(n=>n instanceof mn||n instanceof zn||n instanceof Eo||n instanceof Fr),$(n=>n instanceof mn||n instanceof Fr?mo.COMPLETE:(n instanceof zn?n.code===ct.Redirect||n.code===ct.SupersededByNewNavigation:!1)?mo.REDIRECTING:mo.FAILED),At(n=>n!==mo.REDIRECTING),an(1)).subscribe(()=>{e()})}function ZP(t){throw t}var XP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mu=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Qc),this.stateManager=w(DE),this.options=w(gp,{optional:!0})||{},this.pendingTasks=w(Wc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(GP),this.urlSerializer=w(cp),this.location=w(uo),this.urlHandlingStrategy=w(yp),this._events=new Fe,this.errorHandler=this.options.errorHandler||ZP,this.navigated=!1,this.routeReuseStrategy=w(KP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(mp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(hp,{optional:!0}),this.eventsSubscription=new de,this.isNgZoneEnabled=w(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof zn&&i.code!==ct.Redirect&&i.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof mn)this.navigated=!0;else if(i instanceof Co){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||WP(s.source)};this.scheduleNavigation(a,vo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=I({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(fp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=oE(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return aE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Xi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,vo,null,i)}navigate(r,i={skipLocationChange:!1}){return tO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},XP):i===!1?s=I({},eO):s=i,Xi(r))return zw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return zw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return JP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function nO(t){return!(t instanceof Do)&&!(t instanceof Co)}var ts=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof mn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:MI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(mu),Y(Lr),Yh("tabindex"),Y($n),Y(Et),Y(Wi))},e.\u0275dir=Ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&pn("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Kc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[He.HasDecoratorInputTransform,"preserveFragment","preserveFragment",xr],skipLocationChange:[He.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",xr],replaceUrl:[He.HasDecoratorInputTransform,"replaceUrl","replaceUrl",xr],routerLink:"routerLink"},standalone:!0,features:[mf,Un]});let t=e;return t})(),CE=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof mn&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(wi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ue(r).pipe(wi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=rO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Y(mu),Y(Et),Y($n),Y(Hn),Y(ts,8))},e.\u0275dir=Ot({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&mw(o,ts,5),i&2){let a;yw(a=vw())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]});let t=e;return t})();function rO(t){return!!t.paths}var iO=new R("");function TE(t,...e){return Fc([{provide:mp,multi:!0,useValue:t},[],{provide:Lr,useFactory:sO,deps:[mu]},{provide:If,multi:!0,useFactory:oO},e.map(n=>n.\u0275providers)])}function sO(t){return t.routerState.root}function oO(){let t=w(wt);return e=>{let n=t.get(co);if(e!==n.components[0])return;let r=t.get(mu),i=t.get(aO);t.get(cO)===1&&r.initialNavigation(),t.get(uO,null,V.Optional)?.setUpPreloading(),t.get(iO,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var aO=new R("",{factory:()=>new Fe}),cO=new R("",{providedIn:"root",factory:()=>1});var uO=new R("");var bE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-home"]],standalone:!0,features:[nt],decls:4,vars:0,template:function(i,s){i&1&&(F(0,"h2"),J(1,"Home"),L(),F(2,"h3"),J(3,"Sala de juegos"),L())}});let t=e;return t})();var AE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new _p;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_p=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dO=function(t){let e=AE(t);return RE.encodeByteArray(e,!0)},No=function(t){return dO(t).replace(/\./g,"")},wp=function(t){try{return RE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fO=()=>hO().__FIREBASE_DEFAULTS__,pO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wp(t[1]);return e&&JSON.parse(e)},vu=()=>{try{return fO()||pO()||gO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ep=t=>{var e,n;return(n=(e=vu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ME=t=>{let e=Ep(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dp=()=>{var t;return(t=vu())===null||t===void 0?void 0:t.config},Cp=t=>{var e;return(e=vu())===null||e===void 0?void 0:e[`_${t}`]};var yu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function NE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[No(JSON.stringify(n)),No(JSON.stringify(o)),""].join(".")}function we(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function mO(){var t;let e=(t=vu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kE(){let t=we();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FE(){return!mO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tp(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var yO="FirebaseError",ut=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}},yn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ut(i,a,r)}};function vO(t,e){return t.replace(_O,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _O=/\{\$([^}]+)}/g;function VE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(SE(s)&&SE(o)){if(!Vr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function SE(t){return t!==null&&typeof t=="object"}function xo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function is(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UE(t,e){let n=new Ip(t,e);return n.subscribe.bind(n)}var Ip=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vp),i.error===void 0&&(i.error=vp),i.complete===void 0&&(i.complete=vp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}var _G=4*60*60*1e3;function it(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ur="[DEFAULT]";var bp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EO(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wO(t){return t===Ur?void 0:t}function EO(t){return t.instantiationMode==="EAGER"}var _u=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new bp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var DO=[],H=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(H||{}),CO={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},TO=H.INFO,bO={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},SO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wn=class{constructor(e){this.name=e,this._logLevel=TO,this._logHandler=SO,this._userLogHandler=null,DO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}};var AO=(t,e)=>e.some(n=>t instanceof n),jE,BE;function RO(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MO(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $E=new WeakMap,Ap=new WeakMap,HE=new WeakMap,Sp=new WeakMap,Mp=new WeakMap;function NO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Kt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$E.set(n,t)}).catch(()=>{}),Mp.set(e,t),e}function xO(t){if(Ap.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ap.set(t,e)}var Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qE(t){Rp=t(Rp)}function PO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Iu(this),e,...n);return HE.set(r,e.sort?e.sort():[e]),Kt(r)}:MO().includes(t)?function(...e){return t.apply(Iu(this),e),Kt($E.get(this))}:function(...e){return Kt(t.apply(Iu(this),e))}}function OO(t){return typeof t=="function"?PO(t):(t instanceof IDBTransaction&&xO(t),AO(t,RO())?new Proxy(t,Rp):t)}function Kt(t){if(t instanceof IDBRequest)return NO(t);if(Sp.has(t))return Sp.get(t);let e=OO(t);return e!==t&&(Sp.set(t,e),Mp.set(e,t)),e}var Iu=t=>Mp.get(t);function GE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Kt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Kt(o.result),c.oldVersion,c.newVersion,Kt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var kO=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],Np=new Map;function zE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=FO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kO.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Np.set(e,s),s}qE(t=>ee(I({},t),{get:(e,n,r)=>zE(e,n)||t.get(e,n,r),has:(e,n)=>!!zE(e,n)||t.has(e,n)}));var Pp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function LO(t){let e=t.getComponent();return e?.type==="VERSION"}var Op="@firebase/app",WE="0.10.2";var jr=new Wn("@firebase/app"),VO="@firebase/app-compat",UO="@firebase/analytics-compat",jO="@firebase/analytics",BO="@firebase/app-check-compat",$O="@firebase/app-check",HO="@firebase/auth",qO="@firebase/auth-compat",zO="@firebase/database",GO="@firebase/database-compat",WO="@firebase/functions",KO="@firebase/functions-compat",QO="@firebase/installations",YO="@firebase/installations-compat",JO="@firebase/messaging",ZO="@firebase/messaging-compat",XO="@firebase/performance",ek="@firebase/performance-compat",tk="@firebase/remote-config",nk="@firebase/remote-config-compat",rk="@firebase/storage",ik="@firebase/storage-compat",sk="@firebase/firestore",ok="@firebase/firestore-compat",ak="firebase",ck="10.11.1";var kp="[DEFAULT]",uk={[Op]:"fire-core",[VO]:"fire-core-compat",[jO]:"fire-analytics",[UO]:"fire-analytics-compat",[$O]:"fire-app-check",[BO]:"fire-app-check-compat",[HO]:"fire-auth",[qO]:"fire-auth-compat",[zO]:"fire-rtdb",[GO]:"fire-rtdb-compat",[WO]:"fire-fn",[KO]:"fire-fn-compat",[QO]:"fire-iid",[YO]:"fire-iid-compat",[JO]:"fire-fcm",[ZO]:"fire-fcm-compat",[XO]:"fire-perf",[ek]:"fire-perf-compat",[tk]:"fire-rc",[nk]:"fire-rc-compat",[rk]:"fire-gcs",[ik]:"fire-gcs-compat",[sk]:"fire-fst",[ok]:"fire-fst-compat","fire-js":"fire-js",[ak]:"fire-js-all"};var Po=new Map,lk=new Map,Fp=new Map;function KE(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qn(t){let e=t.name;if(Fp.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,t);for(let n of Po.values())KE(n,t);for(let n of lk.values())KE(n,t);return!0}function ko(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t.settings!==void 0}var dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kn=new yn("app","Firebase",dk);var Lp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}};var Yn=ck;function jp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:kp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=Dp()),!n)throw Kn.create("no-options");let s=Po.get(i);if(s){if(Vr(n,s.options)&&Vr(r,s.config))return s;throw Kn.create("duplicate-app",{appName:i})}let o=new _u(i);for(let c of Fp.values())o.addComponent(c);let a=new Lp(n,r,o);return Po.set(i,a),a}function ss(t=kp){let e=Po.get(t);if(!e&&t===kp&&Dp())return jp();if(!e)throw Kn.create("no-app",{appName:t});return e}function wu(){return Array.from(Po.values())}function Ee(t,e,n){var r;let i=(r=uk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}Qn(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var hk="firebase-heartbeat-database",fk=1,Oo="firebase-heartbeat-store",xp=null;function ZE(){return xp||(xp=GE(hk,fk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),xp}function pk(t){return f(this,null,function*(){try{let n=(yield ZE()).transaction(Oo),r=yield n.objectStore(Oo).get(XE(t));return yield n.done,r}catch(e){if(e instanceof ut)jr.warn(e.message);else{let n=Kn.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}})}function QE(t,e){return f(this,null,function*(){try{let r=(yield ZE()).transaction(Oo,"readwrite");yield r.objectStore(Oo).put(e,XE(t)),yield r.done}catch(n){if(n instanceof ut)jr.warn(n.message);else{let r=Kn.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}})}function XE(t){return`${t.name}!${t.options.appId}`}var gk=1024,mk=30*24*60*60*1e3,Vp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Up(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=mk}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=YE(),{heartbeatsToSend:r,unsentEntries:i}=yk(this._heartbeatsCache.heartbeats),s=No(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function YE(){return new Date().toISOString().substring(0,10)}function yk(t,e=gk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Up=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Tp()?LE().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield pk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function JE(t){return No(JSON.stringify({version:2,heartbeats:t})).length}function vk(t){Qn(new Tt("platform-logger",e=>new Pp(e),"PRIVATE")),Qn(new Tt("heartbeat",e=>new Vp(e),"PRIVATE")),Ee(Op,WE,t),Ee(Op,WE,"esm2017"),Ee("fire-js","")}vk("");var _k="firebase",Ik="10.11.1";Ee(_k,Ik,"app");var $r=new dn("ANGULARFIRE2_VERSION");function Du(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fo=(t,e)=>{let n=e?[e]:wu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},as=class{constructor(){return Fo(wk)}},wk="app-check";function os(){}var Eu=class{zone;delegate;constructor(e,n=vd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Bp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Eu(Zone.current)),this.insideAngular=n.run(()=>new Eu(Zone.current,yd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(U(te))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ek(t){return Cu().ngZone.runOutsideAngular(()=>t())}function Br(t){return Cu().ngZone.run(()=>t())}function Dk(t){return Ck(Cu())(t)}function Ck(t){return function(n){return n=n.lift(new Bp(t.ngZone)),n.pipe(Nn(t.outsideAngular),Mn(t.insideAngular))}}var Tk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},Jn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os))),r[s]=Tk(r[s],n));let i=Ek(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=Cu();return i.pipe(Nn(s.outsideAngular),Mn(s.insideAngular))}else return Br(()=>i);return i instanceof G?i.pipe(Dk):i instanceof Promise?Br(()=>new Promise((s,o)=>i.then(a=>Br(()=>s(a)),a=>Br(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var vn=class{constructor(e){return e}},Hr=class{constructor(){return wu()}};function bk(t){return t&&t.length===1?t[0]:new vn(ss())}var $p=new R("angularfire2._apps"),Sk={provide:vn,useFactory:bk,deps:[[new Ze,$p]]},Ak={provide:Hr,deps:[[new Ze,$p]]};function Rk(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vn(r)}}var Mk=(()=>{class t{constructor(n){Ee("angularfire",$r.full,"core"),Ee("angularfire",$r.full,"app"),Ee("angular",Iw.full,n.toString())}static \u0275fac=function(r){return new(r||t)(U(Bn))};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[Sk,Ak]})}return t})();function Hp(t,...e){return{ngModule:Mk,providers:[{provide:$p,useFactory:Rk(t),multi:!0,deps:[te,wt,cs,...e]}]}}var qp=Jn(jp,!0);function mD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yD=mD,vD=new yn("auth","Firebase",mD());var Mu=new Wn("@firebase/auth");function Nk(t,...e){Mu.logLevel<=H.WARN&&Mu.warn(`Auth (${Yn}): ${t}`,...e)}function bu(t,...e){Mu.logLevel<=H.ERROR&&Mu.error(`Auth (${Yn}): ${t}`,...e)}function Yt(t,...e){throw fg(t,...e)}function qr(t,...e){return fg(t,...e)}function _D(t,e,n){let r=Object.assign(Object.assign({},yD()),{[e]:n});return new yn("auth","Firebase",r).create(e,{appName:t.name})}function wn(t){return _D(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vD.create(t,...e)}function A(t,e,...n){if(!t)throw fg(e,...n)}function _n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bu(e),new Error(e)}function Xn(t,e){t||_n(e)}function Kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xk(){return eD()==="http:"||eD()==="https:"}function eD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Pk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xk()||PE()||"connection"in navigator)?navigator.onLine:!0}function Ok(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=xE()||OE()}get(){return Pk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pg(t,e){Xn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Fk=new zr(3e4,6e4);function er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tr(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return ID(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=xo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Nu.fetch()(wD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function ID(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kk),e);try{let i=new Qp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Tu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _D(t,l,u);Yt(t,l)}}catch(i){if(i instanceof ut)throw i;Yt(t,"network-request-failed",{message:String(i)})}})}function qo(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield tr(t,e,n,r,i);return"mfaPendingCredential"in u&&Yt(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function wD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pg(t.config,i):`${t.config.apiScheme}://${i}`}function Lk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),Fk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qr(t,e,r);return i.customData._tokenResponse=n,i}function tD(t){return t!==void 0&&t.enterprise!==void 0}var Yp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Vk(t,e){return f(this,null,function*(){return tr(t,"GET","/v2/recaptchaConfig",er(t,e))})}function Uk(t,e){return f(this,null,function*(){return tr(t,"POST","/v1/accounts:delete",e)})}function ED(t,e){return f(this,null,function*(){return tr(t,"POST","/v1/accounts:lookup",e)})}function Lo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gg(t,e=!1){return f(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=mg(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lo(zp(i.auth_time)),issuedAtTime:Lo(zp(i.iat)),expirationTime:Lo(zp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zp(t){return Number(t)*1e3}function mg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bu("JWT malformed, contained fewer than 3 sections"),null;try{let i=wp(n);return i?JSON.parse(i):(bu("Failed to decode base64 JWT payload"),null)}catch(i){return bu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nD(t){let e=mg(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Uo(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ut&&jk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Jp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xu(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Uo(t,ED(n,{idToken:r}));A(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DD(s.providerUserInfo):[],a=Bk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function yg(t){return f(this,null,function*(){let e=it(t);yield xu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Bk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DD(t){return t.map(e=>{var{providerId:n}=e,r=_d(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $k(t,e){return f(this,null,function*(){let n=yield ID(t,{},()=>f(this,null,function*(){let r=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Hk(t,e){return f(this,null,function*(){return tr(t,"POST","/v2/accounts:revokeToken",er(t,e))})}var Vo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){A(e.length!==0,"internal-error");let n=nD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield $k(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(A(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(A(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(A(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _n("not implemented")}};function Zn(t,e){A(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var us=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_d(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield Uo(this,this.stsTokenManager.getToken(this.auth,e));return A(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return gg(this,e)}reload(){return yg(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Ft(this.auth.app))return Promise.reject(wn(this.auth));let e=yield this.getIdToken();return yield Uo(this,Uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,oe=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ne,emailVerified:fe,isAnonymous:ft,providerData:ve,stsTokenManager:pt}=n;A(ne&&pt,e,"internal-error");let ci=Vo.fromJSON(this.name,pt);A(typeof ne=="string",e,"internal-error"),Zn(d,e.name),Zn(h,e.name),A(typeof fe=="boolean",e,"internal-error"),A(typeof ft=="boolean",e,"internal-error"),Zn(p,e.name),Zn(m,e.name),Zn(_,e.name),Zn(D,e.name),Zn(C,e.name),Zn(oe,e.name);let lr=new t({uid:ne,auth:e,email:h,emailVerified:fe,displayName:d,isAnonymous:ft,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:ci,createdAt:C,lastLoginAt:oe});return ve&&Array.isArray(ve)&&(lr.providerData=ve.map(ui=>Object.assign({},ui))),D&&(lr._redirectEventId=D),lr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Vo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];A(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?DD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Vo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var rD=new Map;function In(t){Xn(t instanceof Function,"Expected a class definition");let e=rD.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rD.set(t,e),e)}var qk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Zp=qk;function Su(t,e,n){return`firebase:${t}:${e}:${n}`}var Pu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Su(this.userKey,i.apiKey,s),this.fullPersistenceKey=Su("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?us._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(In(Zp),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||In(Zp),o=Su(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=us._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function iD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AD(e))return"Blackberry";if(RD(e))return"Webos";if(vg(e))return"Safari";if((e.includes("chrome/")||TD(e))&&!e.includes("edge/"))return"Chrome";if(SD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CD(t=we()){return/firefox\//i.test(t)}function vg(t=we()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TD(t=we()){return/crios\//i.test(t)}function bD(t=we()){return/iemobile/i.test(t)}function SD(t=we()){return/android/i.test(t)}function AD(t=we()){return/blackberry/i.test(t)}function RD(t=we()){return/webos/i.test(t)}function Bu(t=we()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zk(t=we()){var e;return Bu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gk(){return kE()&&document.documentMode===10}function MD(t=we()){return Bu(t)||SD(t)||RD(t)||AD(t)||/windows phone/i.test(t)||bD(t)}function Wk(){try{return!!(window&&window!==window.top)}catch{return!1}}function ND(t,e=[]){let n;switch(t){case"Browser":n=iD(we());break;case"Worker":n=`${iD(we())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yn}/${r}`}var Xp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Kk(n){return f(this,arguments,function*(t,e={}){return tr(t,"GET","/v2/passwordPolicy",er(t,e))})}var Qk=6,eg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Qk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var tg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ou(this),this.idTokenSubscription=new Ou(this),this.beforeStateQueue=new Xp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield ED(this,{idToken:e}),r=yield us._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Ft(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield xu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ok()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Ft(this.app))return Promise.reject(wn(this));let n=e?it(e):null;return n&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&A(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Ft(this.app)?Promise.reject(wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ft(this.app)?Promise.reject(wn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(In(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield Kk(this),n=new eg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Hk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&In(e)||this._popupRedirectResolver;A(n,this,"argument-error"),this.redirectPersistenceManager=yield Pu.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ND(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Nk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Wr(t){return it(t)}var Ou=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=UE(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $u={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yk(t){$u=t}function xD(t){return $u.loadJS(t)}function Jk(){return $u.recaptchaEnterpriseScript}function Zk(){return $u.gapiScript}function PD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Xk="recaptcha-enterprise",e1="NO_RECAPTCHA",ng=class{constructor(e){this.type=Xk,this.auth=Wr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){Vk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Yp(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;tD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(e1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&tD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Jk();c.length!==0&&(c+=a),xD(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function sD(t,e,n,r=!1){return f(this,null,function*(){let i=new ng(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function rg(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield sD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield sD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function _g(t,e){let n=ko(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Vr(s,e??{}))return i;Yt(i,"already-initialized")}return n.initialize({options:e})}function t1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(In);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ig(t,e,n){let r=Wr(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=OD(e),{host:o,port:a}=n1(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||r1()}function OD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n1(t){let e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:oD(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:oD(o)}}}function oD(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function r1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}};function i1(t,e){return f(this,null,function*(){return tr(t,"POST","/v1/accounts:signUp",e)})}function s1(t,e){return f(this,null,function*(){return qo(t,"POST","/v1/accounts:signInWithPassword",er(t,e))})}function o1(t,e){return f(this,null,function*(){return qo(t,"POST","/v1/accounts:signInWithEmailLink",er(t,e))})}function a1(t,e){return f(this,null,function*(){return qo(t,"POST","/v1/accounts:signInWithEmailLink",er(t,e))})}var $o=class t extends Bo{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,n,"signInWithPassword",s1);case"emailLink":return o1(e,{email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,r,"signUpPassword",i1);case"emailLink":return a1(e,{idToken:n,email:this._email,oobCode:this._password});default:Yt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Gp(t,e){return f(this,null,function*(){return qo(t,"POST","/v1/accounts:signInWithIdp",er(t,e))})}function c1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u1(t){let e=rs(is(t)).link,n=e?rs(is(e)).deep_link_id:null,r=rs(is(t)).deep_link_id;return(r?rs(is(r)).link:null)||r||n||e||t}var ku=class t{constructor(e){var n,r,i,s,o,a;let c=rs(is(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=c1((i=c.mode)!==null&&i!==void 0?i:null);A(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=u1(e);try{return new t(n)}catch{return null}}};var kD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $o._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ku.parseLink(r);return A(i,"argument-error"),$o._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Fu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ig=class extends Fu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function l1(t,e){return f(this,null,function*(){return qo(t,"POST","/v1/accounts:signUp",er(t,e))})}var ls=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield us._fromIdTokenResponse(e,r,i),o=aD(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=aD(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function aD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sg=class t extends ut{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function FD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(t,s,e,r):s})}function d1(t,e,n=!1){return f(this,null,function*(){let r=yield Uo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ls._forOperation(t,"link",r)})}function h1(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Ft(r.app))return Promise.reject(wn(r));let i="reauthenticate";try{let s=yield Uo(t,FD(r,i,e,t),n);A(s.idToken,r,"internal-error");let o=mg(s.idToken);A(o,r,"internal-error");let{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),ls._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Yt(r,"user-mismatch"),s}})}function LD(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r="signIn",i=yield FD(t,r,e),s=yield ls._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function wg(t,e){return f(this,null,function*(){return LD(Wr(t),e)})}function VD(t){return f(this,null,function*(){let e=Wr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Eg(t,e,n){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r=Wr(t),o=yield rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l1).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VD(t),c}),a=yield ls._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Dg(t,e,n){return Ft(t.app)?Promise.reject(wn(t)):wg(it(t),kD.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&VD(t),r}))}function Cg(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function Tg(t,e,n){return it(t).beforeAuthStateChanged(e,n)}var Lu="__sak";var Vu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function f1(){let t=we();return vg(t)||Bu(t)}var p1=1e3,g1=10,m1=(()=>{class t extends Vu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=f1()&&Wk(),this.fallbackToPolling=MD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Gk()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,g1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},p1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield An(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield An(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield An(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),UD=m1;var y1=(()=>{class t extends Vu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),bg=y1;function v1(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield v1(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function jD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var og=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=jD("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Qt(){return window}function I1(t){Qt().location.href=t}function BD(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}function w1(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function E1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D1(){return BD()?self:null}var $D="firebaseLocalStorageDb",C1=1,Uu="firebaseLocalStorage",HD="fbase_key",Gr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hu(t,e){return t.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function T1(){let t=indexedDB.deleteDatabase($D);return new Gr(t).toPromise()}function ag(){let t=indexedDB.open($D,C1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Uu,{keyPath:HD})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Uu)?e(r):(r.close(),yield T1(),e(yield ag()))}))})}function cD(t,e,n){return f(this,null,function*(){let r=Hu(t,!0).put({[HD]:e,value:n});return new Gr(r).toPromise()})}function b1(t,e){return f(this,null,function*(){let n=Hu(t,!1).get(e),r=yield new Gr(n).toPromise();return r===void 0?null:r.value})}function uD(t,e){let n=Hu(t,!0).delete(e);return new Gr(n).toPromise()}var S1=800,A1=3,R1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield ag(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>A1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return BD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=_1._getInstance(D1()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield w1(),!this.activeServiceWorker)return;this.sender=new og(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||E1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ag();return yield cD(n,Lu,"1"),yield uD(n,Lu),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>cD(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>b1(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>uD(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Hu(s,!1).getAll();return new Gr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),S1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),qD=R1;var lW=PD("rcb"),dW=new zr(3e4,6e4);function M1(t,e){return e?In(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ho=class extends Bo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function N1(t){return LD(t.auth,new Ho(t),t.bypassAuthState)}function x1(t){let{auth:e,user:n}=t;return A(n,e,"internal-error"),h1(n,new Ho(t),t.bypassAuthState)}function P1(t){return f(this,null,function*(){let{auth:e,user:n}=t;return A(n,e,"internal-error"),d1(n,new Ho(t),t.bypassAuthState)})}var cg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N1;case"linkViaPopup":case"linkViaRedirect":return P1;case"reauthViaPopup":case"reauthViaRedirect":return x1;default:Yt(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hW=new zr(2e3,1e4);var O1="pendingRedirect",Au=new Map,ug=class t extends cg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Au.get(this.auth._key());if(!e){try{let r=(yield k1(this.resolver,this.auth))?yield An(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Au.set(this.auth._key(),e)}return this.bypassAuthState||Au.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return An(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,An(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function k1(t,e){return f(this,null,function*(){let n=V1(e),r=L1(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function F1(t,e){Au.set(t._key(),e)}function L1(t){return In(t._redirectPersistence)}function V1(t){return Su(O1,t.config.apiKey,t.name)}function U1(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(wn(t));let r=Wr(t),i=M1(r,e),o=yield new ug(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var j1=10*60*1e3,lg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j1&&this.cachedEventUids.clear(),this.cachedEventUids.has(lD(e))}saveEventToCache(e){this.cachedEventUids.add(lD(e)),this.lastProcessedEventTime=Date.now()}};function lD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zD(t);default:return!1}}function $1(n){return f(this,arguments,function*(t,e={}){return tr(t,"GET","/v1/projects",e)})}var H1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q1=/^https?/;function z1(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $1(t);for(let n of e)try{if(G1(n))return}catch{}Yt(t,"unauthorized-domain")})}function G1(t){let e=Kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q1.test(n))return!1;if(H1.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var W1=new zr(3e4,6e4);function dD(){let t=Qt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K1(t){return new Promise((e,n)=>{var r,i,s;function o(){dD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dD(),n(qr(t,"network-request-failed"))},timeout:W1.get()})}if(!((i=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qt().gapi)===null||s===void 0)&&s.load)o();else{let a=PD("iframefcb");return Qt()[a]=()=>{gapi.load?o():n(qr(t,"network-request-failed"))},xD(`${Zk()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ru=null,e})}var Ru=null;function Q1(t){return Ru=Ru||K1(t),Ru}var Y1=new zr(5e3,15e3),J1="__/auth/iframe",Z1="emulator/auth/iframe",X1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tF(t){let e=t.config;A(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?pg(e,Z1):`https://${t.config.authDomain}/${J1}`,r={apiKey:e.apiKey,appName:t.name,v:Yn},i=eF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xo(r).slice(1)}`}function nF(t){return f(this,null,function*(){let e=yield Q1(t),n=Qt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:tF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X1,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=qr(t,"network-request-failed"),a=Qt().setTimeout(()=>{s(o)},Y1.get());function c(){Qt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var rF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iF=500,sF=600,oF="_blank",aF="http://localhost",ju=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cF(t,e,n,r=iF,i=sF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},rF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=we().toLowerCase();n&&(a=TD(u)?oF:n),CD(u)&&(e=e||aF,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(zk(u)&&a!=="_self")return uF(e||"",a),new ju(null);let d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new ju(d)}function uF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lF="__/auth/handler",dF="emulator/auth/handler",hF=encodeURIComponent("fac");function hD(t,e,n,r,i,s){return f(this,null,function*(){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(e instanceof Fu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof ig){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${hF}=${encodeURIComponent(c)}`:"";return`${fF(t)}?${xo(a).slice(1)}${u}`})}function fF({config:t}){return t.emulator?pg(t,dF):`https://${t.authDomain}/${lF}`}var Wp="webStorageSupport",dg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bg,this._completeRedirectFn=U1,this._overrideRedirectResult=F1}_openPopup(e,n,r,i){return f(this,null,function*(){var s;Xn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield hD(e,n,r,Kp(),i);return cF(e,o,jD())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield hD(e,n,r,Kp(),i);return I1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield nF(e),r=new lg(e);return n.register("authEvent",i=>(A(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Wp];o!==void 0&&n(!!o),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MD()||vg()||Bu()}},GD=dg;var fD="@firebase/auth",pD="1.7.2";var hg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gF(t){Qn(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ND(t)},u=new tg(r,i,s,c);return t1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new Tt("auth-internal",e=>{let n=Wr(e.getProvider("auth").getImmediate());return(r=>new hg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ee(fD,pD,pF(t)),Ee(fD,pD,"esm2017")}var mF=5*60,yF=Cp("authIdTokenMaxAge")||mF,gD=null,vF=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yF)return;let i=n?.token;gD!==i&&(gD=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sg(t=ss()){let e=ko(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_g(t,{popupRedirectResolver:GD,persistence:[qD,UD,bg]}),r=Cp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=vF(s.toString());Tg(n,o,()=>o(n.currentUser)),Cg(n,a=>o(a))}}let i=Ep("auth");return i&&Ig(n,`http://${i}`),n}function _F(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Yk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_F().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gF("Browser");var WD="auth",En=class{constructor(e){return e}},zo=class{constructor(){return Fo(WD)}};var Ag=new R("angularfire2.auth-instances");function lL(t,e){let n=Du(WD,t,e);return n&&new En(n)}function dL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new En(r)}}var hL={provide:zo,deps:[[new Ze,Ag]]},fL={provide:En,useFactory:lL,deps:[[new Ze,Ag],vn]},pL=(()=>{class t{constructor(){Ee("angularfire",$r.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[fL,hL]})}return t})();function Rg(t,...e){return{ngModule:pL,providers:[{provide:Ag,useFactory:dL(t),multi:!0,deps:[te,wt,cs,Hr,[new Ze,as],...e]}]}}var KD=Jn(Eg,!0);var Mg=Jn(Sg,!0);var QD=Jn(Dg,!0);var iC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y($n),Y(Et))},e.\u0275dir=Ot({type:e});let t=e;return t})(),gL=(()=>{let e=class e extends iC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=io(e)))(s||e)}})(),e.\u0275dir=Ot({type:e,features:[$i]});let t=e;return t})(),sC=new R("");var mL={provide:sC,useExisting:eo(()=>hs),multi:!0};function yL(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var vL=new R(""),hs=(()=>{let e=class e extends iC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y($n),Y(Et),Y(vL,8))},e.\u0275dir=Ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&pn("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[_f([mL]),$i]});let t=e;return t})();var _L=new R(""),IL=new R("");function oC(t){return t!=null}function aC(t){return Nr(t)?ue(t):t}function cC(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function uC(t,e){return e.map(n=>n(t))}function wL(t){return!t.validate}function lC(t){return t.map(e=>wL(e)?e:n=>e.validate(n))}function EL(t){if(!t)return null;let e=t.filter(oC);return e.length==0?null:function(n){return cC(uC(n,e))}}function dC(t){return t!=null?EL(lC(t)):null}function DL(t){if(!t)return null;let e=t.filter(oC);return e.length==0?null:function(n){let r=uC(n,e).map(aC);return wd(r).pipe($(cC))}}function hC(t){return t!=null?DL(lC(t)):null}function JD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CL(t){return t._rawValidators}function TL(t){return t._rawAsyncValidators}function Ng(t){return t?Array.isArray(t)?t:[t]:[]}function zu(t,e){return Array.isArray(t)?t.includes(e):t===e}function ZD(t,e){let n=Ng(e);return Ng(t).forEach(i=>{zu(n,i)||n.push(i)}),n}function XD(t,e){return Ng(e).filter(n=>!zu(t,n))}var Gu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},xg=class extends Gu{get formDirective(){return null}get path(){return null}},Ko=class extends Gu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d9=ee(I({},bL),{"[class.ng-submitted]":"isSubmitted"}),Wu=(()=>{let e=class e extends Pg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Ko,2))},e.\u0275dir=Ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&vf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[$i]});let t=e;return t})();var Go="VALID",qu="INVALID",ds="PENDING",Wo="DISABLED";function SL(t){return(Ku(t)?t.validators:t)||null}function AL(t){return Array.isArray(t)?dC(t):t||null}function RL(t,e){return(Ku(e)?e.asyncValidators:t)||null}function ML(t){return Array.isArray(t)?hC(t):t||null}function Ku(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Og=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Go}get invalid(){return this.status===qu}get pending(){return this.status==ds}get disabled(){return this.status===Wo}get enabled(){return this.status!==Wo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XD(e,this._rawAsyncValidators))}hasValidator(e){return zu(this._rawValidators,e)}hasAsyncValidator(e){return zu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ds,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wo,this.errors=null,this._forEachChild(r=>{r.disable(ee(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Go,this._forEachChild(r=>{r.enable(ee(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Go||this.status===ds)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wo:Go}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator=!0;let n=aC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Wo:this.errors?qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(qu)?qu:Go}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ku(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ML(this._rawAsyncValidators)}};var fC=new R("CallSetDisabledState",{providedIn:"root",factory:()=>kg}),kg="always";function NL(t,e){return[...e.path,t]}function xL(t,e,n=kg){OL(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kL(t,e),LL(t,e),FL(t,e),PL(t,e)}function eC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function OL(t,e){let n=CL(t);e.validator!==null?t.setValidators(JD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=TL(t);e.asyncValidator!==null?t.setAsyncValidators(JD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();eC(e._rawValidators,i),eC(e._rawAsyncValidators,i)}function kL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pC(t,e)})}function FL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function VL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function UL(t){return Object.getPrototypeOf(t.constructor)===gL}function jL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===hs?n=s:UL(s)?r=s:i=s}),i||r||n||null}function tC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var BL=class extends Og{constructor(e=null,n,r){super(SL(n),RL(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ku(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $L={provide:Ko,useExisting:eo(()=>Qo)},rC=Promise.resolve(),Qo=(()=>{let e=class e extends Ko{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new BL,this._registered=!1,this.name="",this.update=new Ne,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=jL(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),VL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){rC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&xr(i);rC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?NL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(xg,9),Y(_L,10),Y(IL,10),Y(sC,10),Y(Hn,8),Y(fC,8))},e.\u0275dir=Ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[He.None,"disabled","isDisabled"],model:[He.None,"ngModel","model"],options:[He.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_f([$L]),$i,Un]});let t=e;return t})();var HL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({});let t=e;return t})();var Qu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:fC,useValue:r.callSetDisabledState??kg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({imports:[HL]});let t=e;return t})();var qL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vt={},v,rm=rm||{},M=qL||self;function ul(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ua(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zL(t){return Object.prototype.hasOwnProperty.call(t,Fg)&&t[Fg]||(t[Fg]=++GL)}var Fg="closure_uid_"+(1e9*Math.random()>>>0),GL=0;function WL(t,e,n){return t.call.apply(t.bind,arguments)}function KL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Le(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Le=WL:Le=KL,Le.apply(null,arguments)}function Yu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function nr(){this.s=this.s,this.o=this.o}var QL=0;nr.prototype.s=!1;nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QL!=0)&&zL(this)};nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var AC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function im(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mC(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(ul(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ve(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var YL=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};M.addEventListener("test",n,e),M.removeEventListener("test",n,e)}catch{}return t}();function ta(t){return/^[\s\xa0]*$/.test(t)}function ll(){var t=M.navigator;return t&&(t=t.userAgent)?t:""}function Jt(t){return ll().indexOf(t)!=-1}function sm(t){return sm[" "](t),t}sm[" "]=function(){};function JL(t,e){var n=UV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ZL=Jt("Opera"),ms=Jt("Trident")||Jt("MSIE"),RC=Jt("Edge"),Bg=RC||ms,MC=Jt("Gecko")&&!(ll().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge"))&&!(Jt("Trident")||Jt("MSIE"))&&!Jt("Edge"),XL=ll().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge");function NC(){var t=M.document;return t?t.documentMode:void 0}var $g;e:{if(Ju="",Zu=function(){var t=ll();if(MC)return/rv:([^\);]+)(\)|;)/.exec(t);if(RC)return/Edge\/([\d\.]+)/.exec(t);if(ms)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XL)return/WebKit\/(\S+)/.exec(t);if(ZL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Zu&&(Ju=Zu?Zu[1]:""),ms&&(Xu=NC(),Xu!=null&&Xu>parseFloat(Ju))){$g=String(Xu);break e}$g=Ju}var Ju,Zu,Xu,Hg;M.document&&ms?(Lg=NC(),Hg=Lg||parseInt($g,10)||void 0):Hg=void 0;var Lg,eV=Hg;function na(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MC){e:{try{sm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&na.$.h.call(this)}}be(na,Ve);var tV={2:"touch",3:"pen",4:"mouse"};na.prototype.h=function(){na.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var la="closure_listenable_"+(1e6*Math.random()|0),nV=0;function rV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++nV,this.fa=this.ia=!1}function dl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function om(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function iV(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function xC(t){let e={};for(let n in t)e[n]=t[n];return e}var yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yC.length;s++)n=yC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hl(t){this.src=t,this.g={},this.h=0}hl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new rV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(dl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var am="closure_lm_"+(1e6*Math.random()|0),Vg={};function OC(t,e,n,r,i){if(r&&r.once)return FC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OC(t,e[s],n,r,i);return null}return n=lm(n),t&&t[la]?t.O(e,n,ua(r)?!!r.capture:!!r,i):kC(t,e,n,!1,r,i)}function kC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ua(i)?!!i.capture:!!i,a=um(t);if(a||(t[am]=a=new hl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=sV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(VC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function sV(){function t(n){return e.call(t.src,t.listener,n)}let e=oV;return t}function FC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)FC(t,e[s],n,r,i);return null}return n=lm(n),t&&t[la]?t.P(e,n,ua(r)?!!r.capture:!!r,i):kC(t,e,n,!0,r,i)}function LC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LC(t,e[s],n,r,i);else r=ua(r)?!!r.capture:!!r,n=lm(n),t&&t[la]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zg(s,n,r,i),-1<n&&(dl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=um(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zg(e,n,r,i)),(n=-1<t?e[t]:null)&&cm(n))}function cm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[la])qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(VC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=um(e))?(qg(n,t),n.h==0&&(n.src=null,e[am]=null)):dl(t)}}}function VC(t){return t in Vg?Vg[t]:Vg[t]="on"+t}function oV(t,e){if(t.fa)t=!0;else{e=new na(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cm(t),t=n.call(r,e)}return t}function um(t){return t=t[am],t instanceof hl?t:null}var Ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function lm(t){return typeof t=="function"?t:(t[Ug]||(t[Ug]=function(e){return t.handleEvent(e)}),t[Ug])}function Te(){nr.call(this),this.i=new hl(this),this.S=this,this.J=null}be(Te,nr);Te.prototype[la]=!0;Te.prototype.removeEventListener=function(t,e,n,r){LC(this,t,e,n,r)};function ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ve(e,t);else if(e instanceof Ve)e.target=e.target||t;else{var i=e;e=new Ve(r,t),PC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=el(o,r,!0,e)&&i}if(o=e.g=t,i=el(o,r,!0,e)&&i,i=el(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=el(o,r,!1,e)&&i}Te.prototype.N=function(){if(Te.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dl(n[r]);delete t.g[e],t.h--}}this.J=null};Te.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Te.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function el(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var dm=M.JSON.stringify,Gg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function aV(){var t=hm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wg=class{constructor(){this.h=this.g=null}add(e,n){let r=UC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},UC=new Gg(()=>new Kg,t=>t.reset()),Kg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function cV(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uV(t){M.setTimeout(()=>{throw t},0)}var ra,ia=!1,hm=new Wg,jC=()=>{let t=M.Promise.resolve(void 0);ra=()=>{t.then(lV)}},lV=()=>{for(var t;t=aV();){try{t.h.call(t.g)}catch(n){uV(n)}var e=UC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ia=!1};function fl(t,e){Te.call(this),this.h=t||1,this.g=e||M,this.j=Le(this.qb,this),this.l=Date.now()}be(fl,Te);v=fl.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ke(this,"tick"),this.ga&&(fm(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){fl.$.N.call(this),fm(this),delete this.g};function pm(t,e,n){if(typeof t=="function")n&&(t=Le(t,n));else if(t&&typeof t.handleEvent=="function")t=Le(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:M.setTimeout(t,e||0)}function BC(t){t.g=pm(()=>{t.g=null,t.i&&(t.i=!1,BC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Qg=class extends nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BC(this)}N(){super.N(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function sa(t){nr.call(this),this.h=t,this.g={}}be(sa,nr);var vC=[];function $C(t,e,n,r){Array.isArray(n)||(n&&(vC[0]=n.toString()),n=vC);for(var i=0;i<n.length;i++){var s=OC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HC(t){om(t.g,function(e,n){this.g.hasOwnProperty(n)&&cm(e)},t),t.g={}}sa.prototype.N=function(){sa.$.N.call(this),HC(this)};sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pl(){this.g=!0}pl.prototype.Ea=function(){this.g=!1};function dV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function hV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ps(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+pV(t,n)+(r?" "+r:"")})}function fV(t,e){t.info(function(){return"TIMEOUT: "+e})}pl.prototype.info=function(){};function pV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return dm(n)}catch{return e}}var Jr={},_C=null;function gl(){return _C=_C||new Te}Jr.Ta="serverreachability";function qC(t){Ve.call(this,Jr.Ta,t)}be(qC,Ve);function oa(t){let e=gl();ke(e,new qC(e))}Jr.STAT_EVENT="statevent";function zC(t,e){Ve.call(this,Jr.STAT_EVENT,t),this.stat=e}be(zC,Ve);function Ge(t){let e=gl();ke(e,new zC(e,t))}Jr.Ua="timingevent";function GC(t,e){Ve.call(this,Jr.Ua,t),this.size=e}be(GC,Ve);function da(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){t()},e)}var ml={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gm(){}gm.prototype.h=null;function IC(t){return t.h||(t.h=t.i())}function KC(){}var ha={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mm(){Ve.call(this,"d")}be(mm,Ve);function ym(){Ve.call(this,"c")}be(ym,Ve);var Yg;function yl(){}be(yl,gm);yl.prototype.g=function(){return new XMLHttpRequest};yl.prototype.i=function(){return{}};Yg=new yl;function fa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new sa(this),this.P=gV,t=Bg?125:void 0,this.V=new fl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QC}function QC(){this.i=null,this.g="",this.h=!1}var gV=45e3,YC={},Jg={};v=fa.prototype;v.setTimeout=function(t){this.P=t};function Zg(t,e,n){t.L=1,t.A=_l(Cn(e)),t.u=n,t.S=!0,JC(t,null)}function JC(t,e){t.G=Date.now(),pa(t),t.B=Cn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),sT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new QC,t.g=bT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Qg(Le(t.Pa,t,t.g),t.O)),$C(t.U,t.g,"readystatechange",t.nb),e=t.I?xC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),oa(),dV(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Zt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Zt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Bg||this.g&&(this.h.h||this.g.ja()||CC(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?oa(3):oa(2)),vl(this);var n=this.g.da();this.ca=n;t:if(ZC(this)){var r=CC(this.g);t="";var i=r.length,s=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),ea(this);var o="";break t}this.h.i=new M.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,hV(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ta(a)){var u=a;break t}}u=null}if(n=u)ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xg(this,n);else{this.i=!1,this.s=3,Ge(12),Kr(this),ea(this);break e}}this.S?(XC(this,l,o),Bg&&this.i&&l==3&&($C(this.U,this.V,"tick",this.mb),this.V.start())):(ps(this.j,this.m,o,null),Xg(this,o)),l==4&&Kr(this),this.i&&!this.J&&(l==4?ET(this.l,this):(this.i=!1,pa(this)))}else FV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Kr(this),ea(this)}}}catch{}finally{}};function ZC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function XC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=mV(t,n),i==Jg){e==4&&(t.s=4,Ge(14),r=!1),ps(t.j,t.m,null,"[Incomplete Response]");break}else if(i==YC){t.s=4,Ge(15),ps(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ps(t.j,t.m,i,null),Xg(t,i);ZC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ge(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dm(e),e.M=!0,Ge(11))):(ps(t.j,t.m,n,"[Invalid Chunked Response]"),Kr(t),ea(t))}v.mb=function(){if(this.g){var t=Zt(this.g),e=this.g.ja();this.o<e.length&&(vl(this),XC(this,t,e),this.i&&t!=4&&pa(this))}};function mV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Jg:(n=Number(e.substring(n,r)),isNaN(n)?YC:(r+=1,r+n>e.length?Jg:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Kr(this)};function pa(t){t.Y=Date.now()+t.P,eT(t,t.P)}function eT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=da(Le(t.lb,t),e)}function vl(t){t.C&&(M.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(fV(this.j,this.B),this.L!=2&&(oa(),Ge(17)),Kr(this),this.s=2,ea(this)):eT(this,this.Y-t)};function ea(t){t.l.H==0||t.J||ET(t.l,t)}function Kr(t){vl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fm(t.V),HC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||em(n.i,t))){if(!t.K&&em(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sl(n),El(n);else break e;Em(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=da(Le(n.ib,n),6e3));if(1>=cT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qr(n,11)}else if((t.K||n.g==t)&&sl(n),!ta(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vm(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ae(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=TT(r,r.J?r.pa:null,r.Y),o.K){uT(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(vl(a),pa(a)),r.g=o}else IT(r);0<n.j.length&&Dl(n)}else u[0]!="stop"&&u[0]!="close"||Qr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Qr(n,7):wm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}oa(4)}catch{}}function yV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ul(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function vV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ul(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function tT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ul(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=vV(t),r=yV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var nT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _V(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yr){this.h=t.h,rl(this,t.j),this.s=t.s,this.g=t.g,il(this,t.m),this.l=t.l;var e=t.i,n=new aa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wC(this,n),this.o=t.o}else t&&(e=String(t).match(nT))?(this.h=!1,rl(this,e[1]||"",!0),this.s=Zo(e[2]||""),this.g=Zo(e[3]||"",!0),il(this,e[4]),this.l=Zo(e[5]||"",!0),wC(this,e[6]||"",!0),this.o=Zo(e[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}Yr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xo(e,EC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Xo(e,EC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Xo(n,n.charAt(0)=="/"?EV:wV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xo(n,CV)),t.join("")};function Cn(t){return new Yr(t)}function rl(t,e,n){t.j=n?Zo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function il(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wC(t,e,n){e instanceof aa?(t.i=e,TV(t.i,t.h)):(n||(e=Xo(e,DV)),t.i=new aa(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function _l(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EC=/[#\/\?@]/g,wV=/[#\?:]/g,EV=/[#\?]/g,DV=/[#\?@]/g,CV=/#/g;function aa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rr(t){t.g||(t.g=new Map,t.h=0,t.i&&_V(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=aa.prototype;v.add=function(t,e){rr(this),this.i=null,t=ys(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rT(t,e){rr(t),e=ys(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iT(t,e){return rr(t),e=ys(t,e),t.g.has(e)}v.forEach=function(t,e){rr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){rr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){rr(this);let e=[];if(typeof t=="string")iT(this,t)&&(e=e.concat(this.g.get(ys(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return rr(this),this.i=null,t=ys(this,t),iT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sT(t,e,n){rT(t,e),0<n.length&&(t.i=null,t.g.set(ys(t,e),im(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ys(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TV(t,e){e&&!t.j&&(rr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rT(this,r),sT(this,i,n))},t)),t.j=e}var bV=class{constructor(t,e){this.g=t,this.map=e}};function oT(t){this.l=t||SV,M.PerformanceNavigationTiming?(t=M.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(M.g&&M.g.Ka&&M.g.Ka()&&M.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var SV=10;function aT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cT(t){return t.h?1:t.g?t.g.size:0}function em(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vm(t,e){t.g?t.g.add(e):t.h=e}function uT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oT.prototype.cancel=function(){if(this.i=lT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function lT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return im(t.i)}var AV=class{stringify(t){return M.JSON.stringify(t,void 0)}parse(t){return M.JSON.parse(t,void 0)}};function RV(){this.g=new AV}function MV(t,e,n){let r=n||"";try{tT(t,function(i,s){let o=i;ua(i)&&(o=dm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function NV(t,e){let n=new pl;if(M.Image){let r=new Image;r.onload=Yu(tl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Yu(tl,n,r,"TestLoadImage: error",!1,e),r.onabort=Yu(tl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yu(tl,n,r,"TestLoadImage: timeout",!1,e),M.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function tl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ga(t){this.l=t.ec||null,this.j=t.ob||!1}be(ga,gm);ga.prototype.g=function(){return new Il(this.l,this.j)};ga.prototype.i=function(t){return function(){return t}}({});function Il(t,e){Te.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(Il,Te);var _m=0;v=Il.prototype;v.open=function(t,e){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ca(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||M).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=_m};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof M.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ma(this):ca(this),this.readyState==3&&dT(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,ma(this))};v.Ya=function(t){this.g&&(this.response=t,ma(this))};v.ka=function(){this.g&&ma(this)};function ma(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ca(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xV=M.JSON.parse;function le(t){Te.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hT,this.L=this.M=!1}be(le,Te);var hT="",PV=/^https?$/i,OV=["POST","PUT"];v=le.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yg.g(),this.C=this.u?IC(this.u):IC(Yg),this.g.onreadystatechange=Le(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){DC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=M.FormData&&t instanceof M.FormData,!(0<=AC(OV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gT(this),0<this.B&&((this.L=kV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.ua,this)):this.A=pm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){DC(this,s)}};function kV(t){return ms&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))};function DC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fT(t),wl(t)}function fT(t){t.F||(t.F=!0,ke(t,"complete"),ke(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ke(this,"complete"),ke(this,"abort"),wl(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wl(this,!0)),le.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?pT(this):this.kb())};v.kb=function(){pT(this)};function pT(t){if(t.h&&typeof rm<"u"&&(!t.C[1]||Zt(t)!=4||t.da()!=2)){if(t.v&&Zt(t)==4)pm(t.La,0,t);else if(ke(t,"readystatechange"),Zt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(nT)[1]||null;!i&&M.self&&M.self.location&&(i=M.self.location.protocol.slice(0,-1)),r=!PV.test(i?i.toLowerCase():"")}n=r}if(n)ke(t,"complete"),ke(t,"success");else{t.m=6;try{var s=2<Zt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",fT(t)}}finally{wl(t)}}}}function wl(t,e){if(t.g){gT(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function gT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(M.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Zt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xV(e)}};function CC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case hT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FV(t){let e={};t=(t.g&&2<=Zt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ta(t[r]))continue;var n=cV(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}iV(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mT(t){let e="";return om(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Im(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function Yo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yT(t){this.Ga=0,this.j=[],this.l=new pl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yo("baseRetryDelayMs",5e3,t),this.hb=Yo("retryDelaySeedMs",1e4,t),this.eb=Yo("forwardChannelMaxRetries",2,t),this.xa=Yo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oT(t&&t.concurrentRequestLimit),this.Ja=new RV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=yT.prototype;v.ra=8;v.H=1;function wm(t){if(vT(t),t.H==3){var e=t.W++,n=Cn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),ya(t,n),e=new fa(t,t.l,e),e.L=2,e.A=_l(Cn(n)),n=!1,M.navigator&&M.navigator.sendBeacon)try{n=M.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&M.Image&&(new Image().src=e.A,n=!0),n||(e.g=bT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),pa(e)}CT(t)}function El(t){t.g&&(Dm(t),t.g.cancel(),t.g=null)}function vT(t){El(t),t.u&&(M.clearTimeout(t.u),t.u=null),sl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&M.clearTimeout(t.m),t.m=null)}function Dl(t){if(!aT(t.i)&&!t.m){t.m=!0;var e=t.Na;ra||jC(),ia||(ra(),ia=!0),hm.add(e,t),t.C=0}}function LV(t,e){return cT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=da(Le(t.Na,t,e),DT(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new fa(this,this.l,t),s=this.s;if(this.U&&(s?(s=xC(s),PC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_T(this,i,e),n=Cn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),ya(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(mT(s)))+"&"+e:this.o&&Im(n,this.o,s)),vm(this.i,i),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),i.aa=!0,Zg(i,n,null)):Zg(i,n,e),this.H=2}}else this.H==3&&(t?TC(this,t):this.j.length==0||aT(this.i)||TC(this))};function TC(t,e){var n;e?n=e.m:n=t.W++;let r=Cn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),ya(t,r),t.o&&t.s&&Im(r,t.o,t.s),n=new fa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=_T(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vm(t.i,n),Zg(n,r,e)}function ya(t,e){t.na&&om(t.na,function(n,r){ae(e,r,n)}),t.h&&tT({},function(n,r){ae(e,r,n)})}function _T(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Le(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{MV(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ra||jC(),ia||(ra(),ia=!0),hm.add(e,t),t.A=0}}function Em(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=da(Le(t.Ma,t),DT(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,wT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=da(Le(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),El(this),wT(this))};function Dm(t){t.B!=null&&(M.clearTimeout(t.B),t.B=null)}function wT(t){t.g=new fa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),ya(t,e),t.o&&t.s&&Im(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=_l(Cn(e)),n.u=null,n.S=!0,JC(n,t)}v.ib=function(){this.v!=null&&(this.v=null,El(this),Em(this),Ge(19))};function sl(t){t.v!=null&&(M.clearTimeout(t.v),t.v=null)}function ET(t,e){var n=null;if(t.g==e){sl(t),Dm(t),t.g=null;var r=2}else if(em(t.i,e))n=e.F,uT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=gl(),ke(r,new GC(r,n)),Dl(t)}else IT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&LV(t,e)||r==2&&Em(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qr(t,5);break;case 4:Qr(t,10);break;case 3:Qr(t,6);break;default:Qr(t,2)}}}function DT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Le(t.pb,t);n||(n=new Yr("//www.google.com/images/cleardot.gif"),M.location&&M.location.protocol=="http"||rl(n,"https"),_l(n)),NV(n.toString(),r)}else Ge(2);t.H=0,t.h&&t.h.za(e),CT(t),vT(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))};function CT(t){if(t.H=0,t.ma=[],t.h){let e=lT(t.i);(e.length!=0||t.j.length!=0)&&(mC(t.ma,e),mC(t.ma,t.j),t.i.i.length=0,im(t.j),t.j.length=0),t.h.ya()}}function TT(t,e,n){var r=n instanceof Yr?Cn(n):new Yr(n);if(r.g!="")e&&(r.g=e+"."+r.g),il(r,r.m);else{var i=M.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yr(null);r&&rl(s,r),e&&(s.g=e),i&&il(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),ya(t,r),r}function bT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new le(new ga({ob:n})):new le(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function ST(){}v=ST.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function ol(){if(ms&&!(10<=Number(eV)))throw Error("Environmental error: no available transport.")}ol.prototype.g=function(t,e){return new lt(t,e)};function lt(t,e){Te.call(this),this.g=new yT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ta(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ta(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vs(this)}be(lt,Te);lt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ge(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TT(t,null,t.Y),Dl(t)};lt.prototype.close=function(){wm(this.g)};lt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dm(t),t=n);e.j.push(new bV(e.fb++,t)),e.H==3&&Dl(e)};lt.prototype.N=function(){this.g.h=null,delete this.j,wm(this.g),delete this.g,lt.$.N.call(this)};function AT(t){mm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}be(AT,mm);function RT(){ym.call(this),this.status=1}be(RT,ym);function vs(t){this.g=t}be(vs,ST);vs.prototype.Ba=function(){ke(this.g,"a")};vs.prototype.Aa=function(t){ke(this.g,new AT(t))};vs.prototype.za=function(t){ke(this.g,new RT)};vs.prototype.ya=function(){ke(this.g,"b")};function VV(){this.blockSize=-1}function Lt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}be(Lt,VV);Lt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Lt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)jg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){jg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){jg(this,r),i=0;break}}this.h=i,this.i+=e};Lt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var UV={};function Cm(t){return-128<=t&&128>t?JL(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function Xt(t){if(isNaN(t)||!isFinite(t))return gs;if(0>t)return Oe(Xt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tm;return new X(e,0)}function MT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Oe(MT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xt(Math.pow(e,8)),r=gs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Xt(Math.pow(e,s)),r=r.R(s).add(Xt(o))):(r=r.R(n),r=r.add(Xt(o)))}return r}var tm=4294967296,gs=Cm(0),nm=Cm(1),bC=Cm(16777216);v=X.prototype;v.ea=function(){if(bt(this))return-Oe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tm+r)*e,e*=tm}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Dn(this))return"0";if(bt(this))return"-"+Oe(this).toString(t);for(var e=Xt(Math.pow(t,6)),n=this,r="";;){var i=cl(n,e).g;n=al(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Dn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Dn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bt(t){return t.h==-1}v.X=function(t){return t=al(this,t),bt(t)?-1:Dn(t)?0:1};function Oe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(nm)}v.abs=function(){return bt(this)?Oe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function al(t,e){return t.add(Oe(e))}v.R=function(t){if(Dn(this)||Dn(t))return gs;if(bt(this))return bt(t)?Oe(this).R(Oe(t)):Oe(Oe(this).R(t));if(bt(t))return Oe(this.R(Oe(t)));if(0>this.X(bC)&&0>t.X(bC))return Xt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,nl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,nl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function nl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Jo(t,e){this.g=t,this.h=e}function cl(t,e){if(Dn(e))throw Error("division by zero");if(Dn(t))return new Jo(gs,gs);if(bt(t))return e=cl(Oe(t),e),new Jo(Oe(e.g),Oe(e.h));if(bt(e))return e=cl(t,Oe(e)),new Jo(Oe(e.g),e.h);if(30<t.g.length){if(bt(t)||bt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nm,r=e;0>=r.X(t);)n=SC(n),r=SC(r);var i=fs(n,1),s=fs(r,1);for(r=fs(r,2),n=fs(n,2);!Dn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=fs(r,1),n=fs(n,1)}return e=al(t,i.R(e)),new Jo(i,e)}for(i=gs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Xt(n),o=s.R(e);bt(o)||0<o.X(t);)n-=r,s=Xt(n),o=s.R(e);Dn(s)&&(s=nm),i=i.add(s),t=al(t,o)}return new Jo(i,t)}v.gb=function(t){return cl(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function SC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function fs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(i,t.h)}ol.prototype.createWebChannel=ol.prototype.g;lt.prototype.send=lt.prototype.u;lt.prototype.open=lt.prototype.m;lt.prototype.close=lt.prototype.close;ml.NO_ERROR=0;ml.TIMEOUT=8;ml.HTTP_ERROR=6;WC.COMPLETE="complete";KC.EventType=ha;ha.OPEN="a";ha.CLOSE="b";ha.ERROR="c";ha.MESSAGE="d";Te.prototype.listen=Te.prototype.O;le.prototype.listenOnce=le.prototype.P;le.prototype.getLastError=le.prototype.Sa;le.prototype.getLastErrorCode=le.prototype.Ia;le.prototype.getStatus=le.prototype.da;le.prototype.getResponseJson=le.prototype.Wa;le.prototype.getResponseText=le.prototype.ja;le.prototype.send=le.prototype.ha;le.prototype.setWithCredentials=le.prototype.Oa;Lt.prototype.digest=Lt.prototype.l;Lt.prototype.reset=Lt.prototype.reset;Lt.prototype.update=Lt.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=Xt;X.fromString=MT;var NT=Vt.createWebChannelTransport=function(){return new ol},xT=Vt.getStatEventTarget=function(){return gl()},Cl=Vt.ErrorCode=ml,PT=Vt.EventType=WC,OT=Vt.Event=Jr,Tm=Vt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kT=Vt.FetchXmlHttpFactory=ga,va=Vt.WebChannel=KC,FT=Vt.XhrIo=le,jV=Vt.Md5=Lt,LT=Vt.Integer=X;var VT="@firebase/firestore";var Se=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Se.UNAUTHENTICATED=new Se(null),Se.GOOGLE_CREDENTIALS=new Se("google-credentials-uid"),Se.FIRST_PARTY=new Se("first-party-uid"),Se.MOCK_USER=new Se("mock-user");var Fs="10.11.1";var ti=new Wn("@firebase/firestore");function _a(){return ti.logLevel}function E(t,...e){if(ti.logLevel<=H.DEBUG){let n=e.map(Gy);ti.debug(`Firestore (${Fs}): ${t}`,...n)}}function ni(t,...e){if(ti.logLevel<=H.ERROR){let n=e.map(Gy);ti.error(`Firestore (${Fs}): ${t}`,...n)}}function Ml(t,...e){if(ti.logLevel<=H.WARN){let n=e.map(Gy);ti.warn(`Firestore (${Fs}): ${t}`,...n)}}function Gy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function Re(t,e){t||q()}function ce(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends ut{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Se.UNAUTHENTICATED))}shutdown(){}},Mm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Nm=class{constructor(e){this.t=e,this.currentUser=Se.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Nl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Se(e)}},xm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Se.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Se.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Om=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},km=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new Om(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function BV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function Es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Pl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$V=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dt=class t extends Pl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $V.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new T(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var Fm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Fm.UNKNOWN_ID=-1;function HV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new ri(i,j.empty(),e)}function qV(t){return new ri(t.readTime,t.key,-1)}var ri=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(he.min(),j.empty(),-1)}static max(){return new t(he.max(),j.empty(),-1)}};function zV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var GV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ib(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==GV)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function WV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jl(t){return t.name==="IndexedDbTransactionError"}var KV=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Wy(t){return t==null}function Ta(t){return t===0&&1/t==-1/0}function QV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ta(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var YV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],D9=[...YV,"documentOverlays"],JV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZV=JV,C9=[...ZV,"indexConfiguration","indexState","indexEntries"];function UT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ht=class t{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class t{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ol(this.data.getIterator())}getIteratorFrom(e){return new Ol(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ol=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class t{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new We(dt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Vm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var sr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Vm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};sr.EMPTY_BYTE_STRING=new sr("");var XV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(Re(!!t),typeof t=="string"){let e=0,n=XV.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}function Ky(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ob(t){let e=t.mapValue.fields.__previous_value__;return Ky(e)?ob(e):e}function kl(t){let e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}var Um=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},jm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ky(t)?4:ab(t)?9007199254740991:10:q()}function sn(t,e){if(t===e)return!0;let n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=or(i.timestampValue),a=or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ds(i.bytesValue).isEqual(Ds(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=De(i.doubleValue),a=De(s.doubleValue);return o===a?Ta(o)===Ta(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Es(t.arrayValue.values||[],e.arrayValue.values||[],sn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(UT(o)!==UT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!sn(o[c],a[c])))return!1;return!0}(t,e);default:return q()}}function ba(t,e){return(t.values||[]).find(n=>sn(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;let n=Cs(t),r=Cs(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=De(s.integerValue||s.doubleValue),c=De(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(kl(t),kl(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ds(s),c=Ds(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=se(a[u],c[u]);if(l!==0)return l}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=se(De(s.latitude),De(o.latitude));return a!==0?a:se(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Ts(a[u],c[u]);if(l)return l}return se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Tl.mapValue&&o===Tl.mapValue)return 0;if(s===Tl.mapValue)return 1;if(o===Tl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=se(c[d],l[d]);if(h!==0)return h;let p=Ts(a[c[d]],u[l[d]]);if(p!==0)return p}return se(c.length,l.length)}(t.mapValue,e.mapValue);default:throw q()}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=or(t),r=or(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function bs(t){return Bm(t)}function Bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Bm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Bm(n.fields[o])}`;return i+"}"}(t.mapValue):q()}function $m(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function Al(t){return!!t&&"mapValue"in t}function wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ab(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var tn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ra(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(wa(this.value))}};function cb(t){let e=[];return Ra(t.fields,(n,r)=>{let i=new dt([n]);if(Al(r)){let s=cb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}var Ss=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var As=class{constructor(e,n){this.position=e,this.inclusive=n}};function BT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Ts(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sn(t.position[n],e.position[n]))return!1;return!0}var Rs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function eU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Fl=class{},Ae=class t extends Fl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qm(e,n,r):n==="array-contains"?new Wm(e,r):n==="in"?new Km(e,r):n==="not-in"?new Qm(e,r):n==="array-contains-any"?new Ym(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zm(e,r):new Gm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ar=class t extends Fl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ub(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ub(t){return t.op==="and"}function lb(t){return tU(t)&&ub(t)}function tU(t){for(let e of t.filters)if(e instanceof ar)return!1;return!0}function Hm(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+bs(t.value);if(lb(t))return t.filters.map(e=>Hm(e)).join(",");{let e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function db(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&sn(r.value,i.value)}(t,e):t instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&db(o,i.filters[a]),!0):!1}(t,e):void q()}function hb(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${bs(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(hb).join(" ,")+"}"}(t):"Filter"}var qm=class extends Ae{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},zm=class extends Ae{constructor(e,n){super(e,"in",n),this.keys=fb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Gm=class extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=fb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function fb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var Wm=class extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Qy(n)&&ba(n.arrayValue,this.value)}},Km=class extends Ae{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ba(this.value.arrayValue,n)}},Qm=class extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ba(this.value.arrayValue,n)}},Ym=class extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ba(this.value.arrayValue,r))}};var Jm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function HT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Jm(t,e,n,r,i,s,o)}function Yy(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bs(r)).join(",")),e.ue=n}return e.ue}function Jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!db(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}var Ms=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function nU(t,e,n,r,i,s,o,a){return new Ms(t,e,n,r,i,s,o,a)}function rU(t){return new Ms(t)}function qT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iU(t){return t.collectionGroup!==null}function Ea(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new We(dt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Rs(s,r))}),n.has(dt.keyField().canonicalString())||e.ce.push(new Rs(dt.keyField(),r))}return e.ce}function Xr(t){let e=ce(t);return e.le||(e.le=sU(e,Ea(t))),e.le}function sU(t,e){if(t.limitType==="F")return HT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Rs(i.field,s)});let n=t.endAt?new As(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new As(t.startAt.position,t.startAt.inclusive):null;return HT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zm(t,e,n){return new Ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pb(t,e){return Jy(Xr(t),Xr(e))&&t.limitType===e.limitType}function gb(t){return`${Yy(Xr(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hb(i)).join(", ")}]`),Wy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bs(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function Zy(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ea(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=BT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ea(r),i)||r.endAt&&!function(o,a,c){let u=BT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ea(r),i))}(t,e)}function oU(t){return(e,n)=>{let r=!1;for(let i of Ea(t)){let s=aU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aU(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ts(c,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return sb(this.inner)}size(){return this.innerSize}};var cU=new ht(j.comparator);function Ll(){return cU}var mb=new ht(j.comparator);function bl(...t){let e=mb;for(let n of t)e=e.insert(n.key,n);return e}function yb(t){let e=mb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return Da()}function vb(){return Da()}function Da(){return new cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var uU=new ht(j.comparator),lU=new We(j.comparator);function je(...t){let e=lU;for(let n of t)e=e.add(n);return e}var dU=new We(se);function hU(){return dU}function _b(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ta(e)?"-0":e}}function Ib(t){return{integerValue:""+t}}function fU(t,e){return QV(e)?Ib(e):_b(t,e)}var Ns=class{constructor(){this._=void 0}};function pU(t,e,n){return t instanceof xs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ky(s)&&(s=ob(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ii?Eb(t,e):t instanceof si?Db(t,e):function(i,s){let o=wb(i,s),a=zT(o)+zT(i.Pe);return $m(o)&&$m(i.Pe)?Ib(a):_b(i.serializer,a)}(t,e)}function gU(t,e,n){return t instanceof ii?Eb(t,e):t instanceof si?Db(t,e):n}function wb(t,e){return t instanceof Ps?function(r){return $m(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var xs=class extends Ns{},ii=class extends Ns{constructor(e){super(),this.elements=e}};function Eb(t,e){let n=Cb(e);for(let r of t.elements)n.some(i=>sn(i,r))||n.push(r);return{arrayValue:{values:n}}}var si=class extends Ns{constructor(e){super(),this.elements=e}};function Db(t,e){let n=Cb(e);for(let r of t.elements)n=n.filter(i=>!sn(i,r));return{arrayValue:{values:n}}}var Ps=class extends Ns{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function zT(t){return De(t.integerValue||t.doubleValue)}function Cb(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ii&&i instanceof ii||r instanceof si&&i instanceof si?Es(r.elements,i.elements,sn):r instanceof Ps&&i instanceof Ps?sn(r.Pe,i.Pe):r instanceof xs&&i instanceof xs}(t.transform,e.transform)}var Xm=class{constructor(e,n){this.version=e,this.transformResults=n}},ei=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Os=class{};function Tb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vl(t.key,ei.none()):new oi(t.key,t.data,ei.none());{let n=t.data,r=tn.empty(),i=new We(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sn(t.key,r,new nn(i.toArray()),ei.none())}}function yU(t,e,n){t instanceof oi?function(i,s,o){let a=i.value.clone(),c=WT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Sn?function(i,s,o){if(!Rl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=WT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(bb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ca(t,e,n,r){return t instanceof oi?function(s,o,a,c){if(!Rl(s.precondition,o))return a;let u=s.value.clone(),l=KT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sn?function(s,o,a,c){if(!Rl(s.precondition,o))return a;let u=KT(s.fieldTransforms,c,o),l=o.data;return l.setAll(bb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Rl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=wb(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function GT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Es(r,i,(s,o)=>mU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var oi=class extends Os{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Sn=class extends Os{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WT(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gU(o,a,n[i]))}return r}function KT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,pU(s,o,e))}return r}var Vl=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ey=class extends Os{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ty=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&yU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=vb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Tb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(n,r)=>GT(n,r))&&Es(this.baseMutations,e.baseMutations,(n,r)=>GT(n,r))}},ny=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return uU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ry=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ge,K;function _U(t){switch(t){default:return q();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function IU(t){if(t===void 0)return ni("GRPC error has no .code"),g.UNKNOWN;switch(t){case ge.OK:return g.OK;case ge.CANCELLED:return g.CANCELLED;case ge.UNKNOWN:return g.UNKNOWN;case ge.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ge.INTERNAL:return g.INTERNAL;case ge.UNAVAILABLE:return g.UNAVAILABLE;case ge.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ge.NOT_FOUND:return g.NOT_FOUND;case ge.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ge.ABORTED:return g.ABORTED;case ge.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ge.DATA_LOSS:return g.DATA_LOSS;default:return q()}}(K=ge||(ge={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var b9=new LT([4294967295,4294967295],0);var iy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function sy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EU(t,e){return sy(t,e.toTimestamp())}function ws(t){return Re(!!t),he.fromTimestamp(function(n){let r=or(n);return new Be(r.seconds,r.nanos)}(t))}function Sb(t,e){return oy(t,e).canonicalString()}function oy(t,e){let n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DU(t){let e=ye.fromString(t);return Re(NU(e)),e}function ay(t,e){return Sb(t.databaseId,e.path)}function CU(t){let e=DU(t);return e.length===4?ye.emptyPath():bU(e)}function TU(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bU(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QT(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function SU(t,e){let n;if(e instanceof oi)n={update:QT(t,e.key,e.value)};else if(e instanceof Vl)n={delete:ay(t,e.key)};else if(e instanceof Sn)n={update:QT(t,e.key,e.data),updateMask:MU(e.fieldMask)};else{if(!(e instanceof ey))return q();n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof xs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ii)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof si)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ps)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ws(i.updateTime):ws(s);return o.isEqual(he.min())&&(o=ws(s)),new Xm(o,i.transformResults||[])}(n,e))):[]}function RU(t){let e=CU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=Ab(d);return h instanceof ar&&lb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Rs(_s(m.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Wy(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new As(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new As(p,h)}(n.endAt)),nU(e,i,o,s,a,"F",c,u)}function Ab(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_s(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_s(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_s(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>Ab(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function _s(t){return dt.fromServerFormat(t.fieldPath)}function MU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var cy=class{constructor(e){this.ut=e}};function xU(t){let e=RU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}var Ul=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Ta(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=or(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ds(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?ab(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):q()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Ul.St=new Ul;var uy=class{constructor(){this.on=new ly}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(ri.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},ly=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(ye.comparator)).toArray()}};var S9=new Uint8Array(0);var en=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);var Sa=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var dy=class{constructor(){this.changes=new cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ss.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var fy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ca(r.mutation,i,nn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){let i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ll(),o=Da(),a=function(){return Da()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Sn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Ca(l.mutation,u,l.mutation.getFieldMask(),Be.now())):o.set(u.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new hy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Da(),i=new ht((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||nn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||je()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=vb();l.forEach(h=>{if(!s.has(h)){let p=Tb(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Zr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,je())).next(l=>({batchId:a,changes:yb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=bl();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new Ms(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Ss.newInvalidDocument(l)))});let a=bl();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Ca(l.mutation,u,nn.empty(),Be.now()),Zy(n,u)&&(a=a.insert(c,u))}),a})}};var py=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ws(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:xU(i.bundledQuery),readTime:ws(i.readTime)}}(n)),y.resolve()}};var gy=class{constructor(){this.overlays=new ht(j.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Zr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Zr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Zr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Zr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ry(n,r));let s=this.lr.get(n);s===void 0&&(s=je(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Aa=class{constructor(){this.hr=new We(me.Pr),this.Ir=new We(me.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new me(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new me(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new j(new ye([])),r=new me(n,e),i=new me(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new j(new ye([])),r=new me(n,e),i=new me(n,e+1),s=je();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new me(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},me=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||se(e.gr,n.gr)}static Tr(e,n){return se(e.gr,n.gr)||j.comparator(e.key,n.key)}};var my=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new We(me.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ty(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new me(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new me(n,0),i=new me(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(se);return n.forEach(i=>{let s=new me(i,0),o=new me(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;j.isDocumentKey(s)||(s=s.child(""));let o=new me(new j(s),0),a=new We(se);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new me(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yy=class{constructor(e){this.Cr=e,this.docs=function(){return new ht(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Ss.newInvalidDocument(n))}getEntries(e,n){let r=Ll();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ss.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ll(),o=n.path,a=new j(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zV(qV(l),r)<=0||(i.has(l.key)||Zy(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vy(this)}getSize(e){return y.resolve(this.size)}},vy=class extends dy{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var _y=class{constructor(e){this.persistence=e,this.Fr=new cr(n=>Yy(n),Jy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Aa,this.targetCount=0,this.Nr=Sa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var Iy=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new KV(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _y(this),this.indexManager=new uy,this.remoteDocumentCache=function(i){return new yy(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new cy(n),this.Kr=new py(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new my(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new wy(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},wy=class extends Lm{constructor(e){super(),this.currentSequenceNumber=e}},Ey=class t{constructor(e){this.persistence=e,this.Gr=new Aa,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw q()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=j.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Dy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=je(),i=je();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Cy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ty=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return FE()?8:WV(we())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Cy;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(_a()<=H.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(_a()<=H.DEBUG&&E("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(_a()<=H.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):y.resolve())}zi(e,n){if(qT(n))return y.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zm(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=je(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Zm(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return qT(n)||i.isEqual(he.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(_a()<=H.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(n)),this.Xi(e,o,n,HV(i,-1)).next(a=>a))})}Yi(e,n){let r=new We(oU(e));return n.forEach((i,s)=>{Zy(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return _a()<=H.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.Gi.getDocumentsMatchingQuery(e,n,ri.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var by=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ht(se),this.ns=new cr(s=>Yy(s),Jy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function PU(t,e,n,r){return new by(t,e,n,r)}function Rb(t,e){return f(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=je();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function OU(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(_=>{let D=u.docVersions.get(m);Re(D!==null),_.version.compareTo(D)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=je();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kU(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function FU(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var jl=class{constructor(){this.activeTargetIds=hU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sy=class{constructor(){this.eo=new jl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new jl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ay=class{ro(e){}shutdown(){}};var Bl=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sl=null;function bm(){return Sl===null?Sl=function(){return 268435456+Math.round(2147483648*Math.random())}():Sl++,"0x"+Sl.toString(16)}var LU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ry=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Ue="WebChannelConnection",My=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=bm(),c=this.Co(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Ml("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=LU[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=bm();return new Promise((o,a)=>{let c=new FT;c.setWithCredentials(!0),c.listenOnce(PT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cl.NO_ERROR:let l=c.getResponseJson();E(Ue,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Cl.TIMEOUT:E(Ue,`RPC '${e}' ${s} timed out`),a(new T(g.DEADLINE_EXCEEDED,"Request time out"));break;case Cl.HTTP_ERROR:let d=c.getStatus();if(E(Ue,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(D){let C=D.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(C)>=0?C:g.UNKNOWN}(p.status);a(new T(m,p.message))}else a(new T(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(g.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{E(Ue,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ue,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=bm(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NT(),a=xT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new kT({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ue,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new Ry({co:D=>{p?E(Ue,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(E(Ue,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Ue,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},lo:()=>d.close()}),_=(D,C,oe)=>{D.listen(C,ne=>{try{oe(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return _(d,va.EventType.OPEN,()=>{p||(E(Ue,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),_(d,va.EventType.CLOSE,()=>{p||(p=!0,E(Ue,`RPC '${e}' stream ${i} transport closed`),m.fo())}),_(d,va.EventType.ERROR,D=>{p||(p=!0,Ml(Ue,`RPC '${e}' stream ${i} transport errored:`,D),m.fo(new T(g.UNAVAILABLE,"The operation could not be completed")))}),_(d,va.EventType.MESSAGE,D=>{var C;if(!p){let oe=D.data[0];Re(!!oe);let ne=oe,fe=ne.error||((C=ne[0])===null||C===void 0?void 0:C.error);if(fe){E(Ue,`RPC '${e}' stream ${i} received error:`,fe);let ft=fe.status,ve=function(lr){let ui=ge[lr];if(ui!==void 0)return IU(ui)}(ft),pt=fe.message;ve===void 0&&(ve=g.INTERNAL,pt="Unknown error status: "+ft+" with message "+fe.message),p=!0,m.fo(new T(ve,pt)),d.close()}else E(Ue,`RPC '${e}' stream ${i} received:`,oe),m.po(oe)}}),_(a,OT.STAT_EVENT,D=>{D.stat===Tm.PROXY?E(Ue,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Tm.NOPROXY&&E(Ue,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function Sm(){return typeof document<"u"?document:null}function Zl(t){return new iy(t,!0)}var $l=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Ny=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new $l(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return f(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return f(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return f(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new T(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>f(this,null,function*(){this.state=0,this.start()}))}u_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var xy=class extends Ny{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=AU(e.writeResults,e.commitTime),r=ws(e.commitTime);return this.listener.d_(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=TU(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>SU(this.serializer,r))};this.r_(n)}};var Py=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new T(g.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,oy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(g.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,oy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(g.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var Oy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ni(n),this.y_=!1):E("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ky=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>f(this,null,function*(){Na(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=ce(c);u.M_.add(4),yield Ma(u),u.N_.set("Unknown"),u.M_.delete(4),yield Xl(u)})}(this))}))}),this.N_=new Oy(r,i)}};function Xl(t){return f(this,null,function*(){if(Na(t))for(let e of t.x_)yield e(!0)})}function Ma(t){return f(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Na(t){return ce(t).M_.size===0}function Mb(t,e,n){return f(this,null,function*(){if(!Jl(e))throw e;t.M_.add(1),yield Ma(t),t.N_.set("Offline"),n||(n=()=>kU(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Xl(t)}))})}function Nb(t,e){return e().catch(n=>Mb(t,n,e))}function ed(t){return f(this,null,function*(){let e=ce(t),n=ur(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;VU(e);)try{let i=yield FU(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,UU(e,i)}catch(i){yield Mb(e,i)}xb(e)&&Pb(e)})}function VU(t){return Na(t)&&t.v_.length<10}function UU(t,e){t.v_.push(e);let n=ur(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function xb(t){return Na(t)&&!ur(t).Yo()&&t.v_.length>0}function Pb(t){ur(t).start()}function jU(t){return f(this,null,function*(){ur(t).R_()})}function BU(t){return f(this,null,function*(){let e=ur(t);for(let n of t.v_)e.E_(n.mutations)})}function $U(t,e,n){return f(this,null,function*(){let r=t.v_.shift(),i=ny.from(r,e,n);yield Nb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ed(t)})}function HU(t,e){return f(this,null,function*(){e&&ur(t).T_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return _U(o)&&o!==g.ABORTED}(i.code)){let s=r.v_.shift();ur(r).e_(),yield Nb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ed(r)}})}(t,e)),xb(t)&&Pb(t)})}function YT(t,e){return f(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=Na(n);n.M_.add(3),yield Ma(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Xl(n)})}function qU(t,e){return f(this,null,function*(){let n=ce(t);e?(n.M_.delete(2),yield Xl(n)):e||(n.M_.add(2),yield Ma(n),n.N_.set("Unknown"))})}function ur(t){return t.k_||(t.k_=function(n,r,i){let s=ce(n);return s.m_(),new xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:jU.bind(null,t),Eo:HU.bind(null,t),A_:BU.bind(null,t),d_:$U.bind(null,t)}),t.x_.push(e=>f(this,null,function*(){e?(t.k_.e_(),yield ed(t)):(yield t.k_.stop(),t.v_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Fy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ob(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Jl(t))return new T(g.UNAVAILABLE,`${e}: ${t}`);throw t}var Ly=class{constructor(){this.queries=new cr(e=>gb(e),pb),this.onlineState="Unknown",this.z_=new Set}};function zU(t){t.z_.forEach(e=>{e.next()})}var JT,ZT;(ZT=JT||(JT={})).J_="default",ZT.Cache="cache";var Vy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new cr(a=>gb(a),pb),this.Da=new Map,this.Ca=new Set,this.va=new ht(j.comparator),this.Fa=new Map,this.Ma=new Aa,this.xa={},this.Oa=new Map,this.Na=Sa.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function GU(t,e,n){return f(this,null,function*(){let r=YU(t);try{let i=yield function(o,a){let c=ce(o),u=Be.now(),l=a.reduce((p,m)=>p.add(m.key),je()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ll(),_=je();return c.ss.getEntries(p,l).next(D=>{m=D,m.forEach((C,oe)=>{oe.isValidDocument()||(_=_.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(D=>{d=D;let C=[];for(let oe of a){let ne=vU(oe,d.get(oe.key).overlayedDocument);ne!=null&&C.push(new Sn(oe.key,ne,cb(ne.value.mapValue),ei.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,C,a)}).next(D=>{h=D;let C=D.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,D.batchId,C)})}).then(()=>({batchId:h.batchId,changes:yb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ht(se)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield td(r,i.changes),yield ed(r.remoteStore)}catch(i){let s=Ob(i,"Failed to persist write");n.reject(s)}})}function XT(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&zU(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WU(t,e){return f(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield OU(n.localStore,e);Fb(n,r,null),kb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield td(n,i)}catch(i){yield ib(i)}})}function KU(t,e,n){return f(this,null,function*(){let r=ce(t);try{let i=yield function(o,a){let c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Re(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);Fb(r,e,n),kb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield td(r,i)}catch(i){yield ib(i)}})}function kb(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Fb(t,e,n){let r=ce(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function td(t,e,n){return f(this,null,function*(){let r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Dy.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return f(this,null,function*(){let l=ce(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.ki,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Jl(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ts.get(h),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,_)}}})}(r.localStore,s))})}function QU(t,e){return f(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield Rb(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new T(g.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield td(n,r._s)}})}function YU(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KU.bind(null,e),e}var Hl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Zl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PU(this.persistence,new Ty,e.initialUser,this.serializer)}createPersistence(e){return new Iy(Ey.jr,this.serializer)}createSharedClientState(e){return new Sy}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Uy=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),yield qU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ly}()}createDatastore(e){let n=Zl(e.databaseInfo.databaseId),r=function(s){return new My(s)}(e.databaseInfo);return function(s,o,a,c){return new Py(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ky(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>XT(this.syncEngine,n,0),function(){return Bl.D()?new Bl:new Ay}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Vy(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=ce(r);E("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ma(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var jy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Se.UNAUTHENTICATED,this.clientId=xl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ob(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Am(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield Rb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eb(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ZU(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YT(e.remoteStore,i)),t._onlineComponents=e})}function JU(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function ZU(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Am(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!JU(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),yield Am(t,new Hl)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Am(t,new Hl);return t._offlineComponents})}function XU(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield eb(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield eb(t,new Uy))),t._onlineComponents})}function ej(t){return XU(t).then(e=>e.syncEngine)}function Lb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var tb=new Map;function Vb(t,e,n){if(!n)throw new T(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tj(t,e,n,r){if(e===!0&&r===!0)throw new T(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nb(t){if(!j.isDocumentKey(t))throw new T(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rb(t){if(j.isDocumentKey(t))throw new T(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Ub(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Xy(t);throw new T(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ql=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ks=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ql({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ql(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rm;switch(r.type){case"firstParty":return new Pm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=tb.get(n);r&&(E("ComponentProvider","Removing Datastore"),tb.delete(n),r.terminate())}(this),Promise.resolve()}};function jb(t,e,n,r={}){var i;let s=(t=Ub(t,ks))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Se.MOCK_USER;else{a=NE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Se(u)}t._authCredentials=new Mm(new Nl(a,c))}}var By=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ir=class t extends By{constructor(e,n,r){super(e,n,rU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ev(t,e,...n){if(t=it(t),Vb("collection","path",e),t instanceof ks){let r=ye.fromString(e,...n);return rb(r),new ir(t,null,r)}{if(!(t instanceof bn||t instanceof ir))throw new T(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return rb(r),new ir(t.firestore,null,r)}}function Bb(t,e,...n){if(t=it(t),arguments.length===1&&(e=xl.newId()),Vb("doc","path",e),t instanceof ks){let r=ye.fromString(e,...n);return nb(r),new bn(t,null,new j(r))}{if(!(t instanceof bn||t instanceof ir))throw new T(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return nb(r),new bn(t.firestore,t instanceof ir?t.converter:null,new j(r))}}var $y=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new $l(this,"async_queue_retry"),this.hu=()=>{let n=Sm();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=Sm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Tn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return f(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Jl(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Fy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&q()}verifyOperationInProgress(){}du(){return f(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var zl=class extends ks{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $y}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hb(this),this._firestoreClient.terminate()}};function $b(t,e){let n=typeof t=="object"?t:ss(),r=typeof t=="string"?t:e||"(default)",i=ko(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ME("firestore");s&&jb(i,...s)}return i}function nj(t){return t._firestoreClient||Hb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Um(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Lb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jy(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Gl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(sr.fromBase64String(e))}catch(n){throw new T(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Wl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kl=class{constructor(e){this._methodName=e}};var Ql=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}};var rj=/^__.*__$/,Hy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sn(e,this.data,this.fieldMask,n,this.fieldTransforms):new oi(e,this.data,n,this.fieldTransforms)}};function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var qy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Yl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(qb(this.fu)&&rj.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},zy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zl(e)}Fu(e,n,r,i=!1){return new qy({fu:e,methodName:n,vu:r,path:dt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ij(t){let e=t._freezeSettings(),n=Zl(t._databaseId);return new zy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sj(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Kb("Data must be an object, but it was:",o,r);let a=Gb(r,o),c,u;if(s.merge)c=new nn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=oj(e,d,n);if(!o.contains(h))throw new T(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uj(l,h)||l.push(h)}c=new nn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Hy(new tn(a),c,u)}function zb(t,e){if(Wb(t=it(t)))return Kb("Unsupported field value:",e,t),Gb(t,e);if(t instanceof Kl)return function(r,i){if(!qb(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=zb(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Be.fromDate(r);return{timestampValue:sy(i.serializer,s)}}if(r instanceof Be){let s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sy(i.serializer,s)}}if(r instanceof Ql)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:wU(i.serializer,r._byteString)};if(r instanceof bn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Xy(r)}`)}(t,e)}function Gb(t,e){let n={};return sb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,(r,i)=>{let s=zb(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Wb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof Ql||t instanceof Gl||t instanceof bn||t instanceof Kl)}function Kb(t,e,n){if(!Wb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Xy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function oj(t,e,n){if((e=it(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return cj(t,e);throw Yl("Field path arguments must be of type string or ",t,!1,void 0,n)}var aj=new RegExp("[~\\*/\\[\\]]");function cj(t,e,n){if(e.search(aj)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wl(...e.split("."))._internalPath}catch{throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yl(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new T(g.INVALID_ARGUMENT,a+t+c)}function uj(t,e){return t.some(n=>n.isEqual(e))}function lj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function tv(t,e){let n=Ub(t.firestore,zl),r=Bb(t),i=lj(t.converter,e);return dj(n,[sj(ij(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}function dj(t,e){return function(r,i){let s=new Tn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return GU(yield ej(r),i,s)})),s.promise}(nj(t),e)}(function(e,n=!0){(function(i){Fs=i})(Yn),Qn(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new zl(new Nm(r.getProvider("auth-internal")),new km(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ee(VT,"4.6.1",e),Ee(VT,"4.6.1","esm2017")})();var ai=class{constructor(e){return e}},Qb="firestore",nv=class{constructor(){return Fo(Qb)}};var rv=new R("angularfire2.firestore-instances");function hj(t,e){let n=Du(Qb,t,e);return n&&new ai(n)}function fj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var pj={provide:nv,deps:[[new Ze,rv]]},gj={provide:ai,useFactory:hj,deps:[[new Ze,rv],vn]},mj=(()=>{class t{constructor(){Ee("angularfire",$r.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[gj,pj]})}return t})();function iv(t,...e){return{ngModule:mj,providers:[{provide:rv,useFactory:fj(t),multi:!0,deps:[te,wt,cs,Hr,[new Ze,zo],[new Ze,as],...e]}]}}var sv=Jn($b,!0);function vj(t,e){if(t&1&&(F(0,"p",3),J(1),L()),t&2){let n=qi();tt(),ao(n.errorMsg)}}function _j(t,e){if(t&1&&(F(0,"h3"),J(1),L()),t&2){let n=qi();tt(),zi("Usuario iniciado: ",n.loggedUser,"")}}var Yb=(()=>{let e=class e{constructor(r,i){this.firestore=r,this.auth=i,this.loginsCollections=[],this.email="",this.pass="",this.loggedUser="",this.errorMsg=""}Login(){QD(this.auth,this.email,this.pass).then(r=>{if(r.user.email!==null){this.loggedUser=r.user.email;let i=ev(this.firestore,"logins");tv(i,{date:new Date,user:this.email})}}).catch(r=>{switch(console.log(r.code),r.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/invalid-credential":this.errorMsg="El correo electronico o contrase\xF1a son incorrectos.";break}})}};e.\u0275fac=function(i){return new(i||e)(Y(ai),Y(En))},e.\u0275cmp=Xe({type:e,selectors:[["app-login"]],standalone:!0,features:[nt],decls:17,vars:4,consts:[["for",""],["type","text",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],[2,"color","red"],[3,"click"],["routerLink","../register"]],template:function(i,s){i&1&&(F(0,"h2"),J(1,"Iniciar sesion"),L(),F(2,"label",0),J(3,"Correo electronico"),L(),F(4,"input",1),Mr("ngModelChange",function(a){return Gi(s.email,a)||(s.email=a),a}),L(),F(5,"label",0),J(6,"Contrase\xF1a"),L(),F(7,"input",2),Mr("ngModelChange",function(a){return Gi(s.pass,a)||(s.pass=a),a}),L(),Ar(8,vj,2,1,"p",3),ze(9,"br")(10,"br"),F(11,"button",4),pn("click",function(){return s.Login()}),J(12,"Iniciar sesion"),L(),ze(13,"br"),F(14,"button",5),J(15,"Crear cuenta nueva"),L(),Ar(16,_j,2,1,"h3")),i&2&&(tt(4),Rr("ngModel",s.email),tt(3),Rr("ngModel",s.pass),tt(),Hi(8,s.errorMsg!=""?8:-1),tt(8),Hi(16,s.loggedUser!=""?16:-1))},dependencies:[Qu,hs,Wu,Qo,ts]});let t=e;return t})();var Jb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-quien-soy"]],standalone:!0,features:[nt],decls:15,vars:0,consts:[["width","200","src","../../../assets/yo.jpg","alt","Mi foto"]],template:function(i,s){i&1&&(F(0,"h2"),J(1,"Quien soy"),L(),F(2,"h3"),J(3,"Datos alumno"),L(),F(4,"p"),J(5,"Nombre: Lautaro"),L(),F(6,"p"),J(7,"Apellido: Monserrat"),L(),F(8,"p"),J(9,"Edad: 20"),L(),ze(10,"img",0),F(11,"h3"),J(12,"Explicacion juego propio"),L(),F(13,"p"),J(14,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. At vel repudiandae, a, accusantium tenetur laboriosam aut harum earum adipisci maiores ipsam ex eligendi. Alias et necessitatibus aperiam quo iure numquam? Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea nisi recusandae itaque officia error amet ratione. Iure debitis perferendis dicta nihil amet officia reprehenderit nemo mollitia adipisci, quisquam aut ducimus."),L())}});let t=e;return t})();var Zb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[nt],decls:2,vars:0,template:function(i,s){i&1&&(F(0,"h2"),J(1,"Error 404 - Page not found"),L())}});let t=e;return t})();function Ij(t,e){if(t&1&&(F(0,"p",3),J(1),L()),t&2){let n=qi();tt(),ao(n.errorMsg)}}function wj(t,e){if(t&1&&(F(0,"h2"),J(1),L()),t&2){let n=qi();tt(),zi("Usuario registrado: ",n.loggedUser,"")}}var Xb=(()=>{let e=class e{constructor(r){this.auth=r,this.newEmail="",this.newPass="",this.loggedUser="",this.errorMsg=""}Register(){KD(this.auth,this.newEmail,this.newPass).then(r=>{r.user.email!==null&&(this.loggedUser=r.user.email)}).catch(r=>{switch(console.log(r.code),r.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/email-already-in-use":this.errorMsg="El correo electronico ya esta en uso.";break;case"auth/weak-password":this.errorMsg="La contrase\xF1a debe tener al menos 6 caracteres.";break}})}};e.\u0275fac=function(i){return new(i||e)(Y(En))},e.\u0275cmp=Xe({type:e,selectors:[["app-register"]],standalone:!0,features:[nt],decls:14,vars:4,consts:[["for",""],["type","text",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],[2,"color","red"],[3,"click"]],template:function(i,s){i&1&&(F(0,"h2"),J(1,"Registro"),L(),F(2,"label",0),J(3,"Correo electronico"),L(),F(4,"input",1),Mr("ngModelChange",function(a){return Gi(s.newEmail,a)||(s.newEmail=a),a}),L(),F(5,"label",0),J(6,"Contrase\xF1a"),L(),F(7,"input",2),Mr("ngModelChange",function(a){return Gi(s.newPass,a)||(s.newPass=a),a}),L(),Ar(8,Ij,2,1,"p",3),ze(9,"br")(10,"br"),F(11,"button",4),pn("click",function(){return s.Register()}),J(12,"Registrarse"),L(),Ar(13,wj,2,1,"h2")),i&2&&(tt(4),Rr("ngModel",s.newEmail),tt(3),Rr("ngModel",s.newPass),tt(),Hi(8,s.errorMsg!=""?8:-1),tt(5),Hi(13,s.loggedUser!=""?13:-1))},dependencies:[Qu,hs,Wu,Qo]});let t=e;return t})();var e0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:bE},{path:"login",component:Yb},{path:"quien-soy",component:Jb},{path:"register",component:Xb},{path:"**",component:Zb}];var Ke={production:!1,projectId:"tp-sala-de-juegos-2541e",appId:"1:284356451192:web:805eeb9ff321a4e53e868d",databaseURL:"https://tp-sala-de-juegos-2541e-default-rtdb.firebaseio.com",storageBucket:"tp-sala-de-juegos-2541e.appspot.com",apiKey:"AIzaSyBeErb_Kvi8Fjmkv4pJHazLtfJGsdAdUoI",authDomain:"tp-sala-de-juegos-2541e.firebaseapp.com",messagingSenderId:"284356451192"};var t0={providers:[TE(e0),Vn(Hp(()=>qp({projectId:Ke.projectId,appId:Ke.appId,databaseURL:Ke.databaseURL,storageBucket:Ke.storageBucket,apiKey:Ke.apiKey,authDomain:Ke.authDomain,messagingSenderId:Ke.messagingSenderId}))),Vn(Rg(()=>Mg())),Vn(iv(()=>sv())),Vn(Hp(()=>qp({projectId:Ke.projectId,appId:Ke.appId,databaseURL:Ke.databaseURL,storageBucket:Ke.storageBucket,apiKey:Ke.apiKey,authDomain:Ke.authDomain,messagingSenderId:Ke.messagingSenderId}))),Vn(Rg(()=>Mg())),Vn(iv(()=>sv()))]};var n0=(()=>{let e=class e{constructor(){this.title="tp_sala_de_juegos"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-root"]],standalone:!0,features:[nt],decls:19,vars:0,consts:[[1,"custom-nav","navbar","navbar-expand-lg","navbar-light","shadow"],["href","#",1,"navbar-brand","d-flex","align-items-center"],["src","../assets/icono.png","width","35","height","35","alt","Icono",1,"d-inline-block","align-top","mx-1"],["src","../assets/fantasmas4.png","width","55","height","55","alt","Icono",1,"d-inline-block","align-top","ml-2"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","nav-opt"],[1,"nav-item","mx-3"],["routerLink","home","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","quien-soy","routerLinkActive","ruta-activa",1,"nav-link"],["routerLink","login","routerLinkActive","ruta-activa",1,"nav-link"]],template:function(i,s){i&1&&(F(0,"nav",0)(1,"a",1),ze(2,"img",2),J(3," Jueguinhos "),ze(4,"img",3),L(),F(5,"button",4),ze(6,"span",5),L(),F(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),J(11,"Inicio"),L()(),F(12,"li",8)(13,"a",10),J(14,"Quien soy"),L()(),F(15,"li",8)(16,"a",11),J(17,"Iniciar sesion"),L()()()()(),ze(18,"router-outlet"))},dependencies:[dp,ts,CE],styles:[".ruta-activa[_ngcontent-%COMP%]{font-weight:500;color:#000}.custom-nav[_ngcontent-%COMP%]{height:70px;background-color:#e4e4e4;transition:all;padding:0 10px}.nav-opt[_ngcontent-%COMP%]{background-color:#e4e4e4}"]});let t=e;return t})();Hw(n0,t0).catch(t=>console.error(t));
