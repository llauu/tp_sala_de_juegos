import{a as E,b as I,c as L,d as P,e as W,f as F,g as O,h as f,i as b,n as T,v as j}from"./chunk-SB22PVCQ.js";import{c as S,d as x}from"./chunk-PSUBP2VB.js";import"./chunk-7IMVGUBN.js";import{Ma as c,Na as d,Ya as v,ab as C,da as _,eb as i,fb as o,gb as M,lb as g,mb as y,sb as r,tb as k,ub as u,vb as p,wb as h,yb as w}from"./chunk-ONBYTTLV.js";function N(s,a){if(s&1&&(i(0,"p",12),r(1),o()),s&2){let D=y();c(),k(D.errorMsg)}}var J=(()=>{let a=class a{constructor(e,t,n){this.firestore=e,this.router=t,this.authService=n,this.loginsCollections=[],this.email="",this.pass="",this.errorMsg=""}login(){this.authService.login(this.email,this.pass).then(e=>{if(e.user.email!==null){let t=f(this.firestore,"logins");b(t,{date:new Date,user:this.email}),this.router.navigate(["/home"])}}).catch(e=>{switch(e.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/invalid-credential":this.errorMsg="El correo electronico o contrase\xF1a son incorrectos.";break}})}loginWithGoogle(){this.authService.loginWithGoogle().then(e=>{if(e.user.email!==null){let t=f(this.firestore,"logins");b(t,{date:new Date,user:e.user.email}),this.router.navigate(["/home"])}}).catch(e=>{console.log(e)})}fillInputs(){let e=document.getElementById("email");e&&(e.value="prueba@mail.com",this.email="prueba@mail.com");let t=document.getElementById("pass");t&&(t.value="123456",this.pass="123456")}};a.\u0275fac=function(t){return new(t||a)(d(T),d(S),d(j))},a.\u0275cmp=_({type:a,selectors:[["app-login"]],standalone:!0,features:[w],decls:29,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5","login-container"],[1,"card","shadow","mt-4"],[1,"card-header"],[1,"text-center","my-3"],[1,"card-body"],[1,"form-group","mt-3"],["for","email"],["type","email","name","email","id","email","placeholder","Ingrese su correo electronico",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","pass","id","pass","placeholder","Ingrese su contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-msg"],[1,"d-flex","justify-content-center","mt-5"],["type","submit",1,"btn","btn-primary","btn-block","btn-login",3,"click"],["src","../../../assets/google.png","alt","",1,"google-icon","mt-2","ms-2",3,"click"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-link",3,"click"],[1,"border-bottom"],[1,"d-flex","justify-content-center","mt-4","mb-1"],["type","button","routerLink","../register",1,"btn","btn-secondary","btn-reg"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),r(6,"Inicio de sesion"),o()(),i(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),r(11,"Correo electronico"),o(),i(12,"input",9),h("ngModelChange",function(l){return p(n.email,l)||(n.email=l),l}),o()(),i(13,"div",7)(14,"label",10),r(15,"Contrase\xF1a"),o(),i(16,"input",11),h("ngModelChange",function(l){return p(n.pass,l)||(n.pass=l),l}),o()(),v(17,N,2,1,"p",12),i(18,"div",13)(19,"button",14),g("click",function(){return n.login()}),r(20,"Iniciar sesion"),o(),i(21,"img",15),g("click",function(){return n.loginWithGoogle()}),o()(),i(22,"div",16)(23,"button",17),g("click",function(){return n.fillInputs()}),r(24,"Acceso rapido"),o()()(),M(25,"div",18),i(26,"div",19)(27,"button",20),r(28,"Crear cuenta nueva"),o()()()()()()()),t&2&&(c(12),u("ngModel",n.email),c(4),u("ngModel",n.pass),c(),C(17,n.errorMsg!=""?17:-1))},dependencies:[O,F,E,I,L,W,P,x],styles:[".card-header[_ngcontent-%COMP%]{background-color:#e4e4e4;border:none}.login-container[_ngcontent-%COMP%]{z-index:1;margin-top:100px}.google-icon[_ngcontent-%COMP%]{width:27px;height:27px;cursor:pointer}.btn-login[_ngcontent-%COMP%]{width:80%;font-weight:900;font-size:21px;background-color:#fc573a;border:none}.btn-login[_ngcontent-%COMP%]:hover{background-color:#dc462c;transition:all .2s}.btn-reg[_ngcontent-%COMP%]{width:60%;font-size:16.5px}.error-msg[_ngcontent-%COMP%]{color:red;position:absolute}"]});let s=a;return s})();export{J as LoginComponent};
